"use strict";(self.webpackChunkCarnivoraCommunity=self.webpackChunkCarnivoraCommunity||[]).push([[696],{1696:(Yn,E,u)=>{u.r(E),u.d(E,{ComponentModule:()=>Ln});var d=u(177),g=u(5908);class F{constructor(){this.id=0,this.nombre="",this.fechaEvento=new Date,this.horaInicio="",this.duracionSubastaMinutos=10,this.descansoMinutos=0,this.estado=""}}var t=u(7705),p=u(1626),f=u(1413),v=u(9437),x=u(8810),b=u(5312);const $=b.c.base;let h=(()=>{class e{constructor(n){this.http=n,this.url=`${$}/eventos`,this.listaCambio=new f.B}list(){let n=sessionStorage.getItem("token");return this.http.get(this.url,{headers:(new p.Lr).set("Authorization",`Bearer ${n}`).set("Content-Type","application/json")})}insert(n){let o=sessionStorage.getItem("token");return this.http.post(this.url,n,{headers:(new p.Lr).set("Authorization",`Bearer ${o}`).set("Content-Type","application/json")})}listId(n){let o=sessionStorage.getItem("token");return this.http.get(`${this.url}/${n}`,{headers:(new p.Lr).set("Authorization",`Bearer ${o}`).set("Content-Type","application/json")})}updateEstado(n,o){let a=sessionStorage.getItem("token");return this.http.put(`${this.url}/${n}/estado/${o}`,{},{headers:(new p.Lr).set("Authorization",`Bearer ${a}`).set("Content-Type","application/json")})}update(n){let o=sessionStorage.getItem("token");return this.http.put(this.url,n,{headers:(new p.Lr).set("Authorization",`Bearer ${o}`).set("Content-Type","application/json")})}delete(n){let o=sessionStorage.getItem("token");return this.http.delete(`${this.url}/${n}`,{headers:(new p.Lr).set("Authorization",`Bearer ${o}`).set("Content-Type","application/json")}).pipe((0,v.W)(this.handleError.bind(this)))}setList(n){this.listaCambio.next(n)}getList(){return this.listaCambio.asObservable()}autoCerrar(n){let o=sessionStorage.getItem("token");return this.http.put(`${this.url}/${n}/auto-cerrar`,{},{headers:(new p.Lr).set("Authorization",`Bearer ${o}`).set("Content-Type","application/json")})}handleError(n){let o="Ocurri\xf3 un error desconocido";return(409===n.status||500===n.status)&&(o="No se puede eliminar: est\xe1 vinculado a otros registros"),(0,x.$)(o)}static{this.\u0275fac=function(o){return new(o||e)(t.KVO(p.Qq))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const A=b.c.base;let O=(()=>{class e{constructor(n){this.http=n,this.url=`${A}`}getHeaders(){const n=sessionStorage.getItem("token");return(new p.Lr).set("Authorization",`Bearer ${n}`).set("Content-Type","application/json")}listarSubastasEvento(n){return this.http.get(`${this.url}/subastas/evento/${n}`,{headers:this.getHeaders()})}organizarSubastas(n){return this.http.post(`${this.url}/organizar-subastas/${n}`,{},{headers:this.getHeaders()})}decidirSubasta(n,o){return this.http.put(`${this.url}/subastas/${n}/decision/${o}`,{},{headers:this.getHeaders()})}listarSubastasAceptadas(){return this.http.get(`${this.url}/subastas/aceptadas`,{headers:this.getHeaders()})}static{this.\u0275fac=function(o){return new(o||e)(t.KVO(p.Qq))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var l=u(9417);function D(e,i){1&e&&(t.j41(0,"p",23),t.EFF(1," Ya existe un evento abierto. Debes cerrarlo para crear uno nuevo. "),t.k0s())}function T(e,i){if(1&e){const n=t.RV6();t.j41(0,"button",42),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,r=t.XpG();return t.Njj(r.cerrarManual(a.id))}),t.nrm(1,"i",43),t.k0s()}}function N(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",24)(1,"div",25)(2,"div",26)(3,"span",27),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.j41(6,"span",28),t.EFF(7),t.nI1(8,"date"),t.k0s()(),t.j41(9,"div",29)(10,"h3"),t.EFF(11),t.k0s(),t.j41(12,"p"),t.nrm(13,"i",30),t.EFF(14),t.k0s(),t.j41(15,"p")(16,"b"),t.EFF(17,"Subastas aceptadas:"),t.k0s(),t.EFF(18),t.k0s()()(),t.j41(19,"div",31)(20,"span",32),t.EFF(21),t.k0s(),t.j41(22,"div",33)(23,"button",34),t.bIt("click",function(){const r=t.eBV(n).$implicit,s=t.XpG();return s.seleccionar(r),t.Njj(s.toggleForm())}),t.nrm(24,"i",35),t.k0s(),t.DNE(25,T,2,0,"button",36),t.j41(26,"button",37),t.bIt("click",function(){const r=t.eBV(n).$implicit,s=t.XpG();return t.Njj(s.irAOrganizarSubastas(r.id))}),t.nrm(27,"i",38),t.k0s(),t.j41(28,"button",37),t.bIt("click",function(){const r=t.eBV(n).$implicit,s=t.XpG();return s.eventoPrediccion=r,t.Njj(s.showPrediccion=!0)}),t.nrm(29,"i",39),t.k0s(),t.j41(30,"button",40),t.bIt("click",function(){const r=t.eBV(n).$implicit,s=t.XpG();return t.Njj(s.eliminar(r.id))}),t.nrm(31,"i",41),t.k0s()()()()}if(2&e){const n=i.$implicit,o=t.XpG();t.R7$(4),t.JRh(t.i5U(5,14,n.fechaEvento,"dd")),t.R7$(3),t.JRh(t.i5U(8,17,n.fechaEvento,"MMM")),t.R7$(4),t.JRh(n.nombre),t.R7$(3),t.E5c(" ",o.formatearHora(n.horaInicio)," \u2022 ",n.duracionSubastaMinutos," min + ",n.descansoMinutos," min descanso "),t.R7$(4),t.SpI(" ",o.getTotalSubastas(n.id)," "),t.R7$(2),t.AVh("abierto","ABIERTO"===n.estado)("cerrado","CERRADO"===n.estado),t.R7$(1),t.SpI(" ",n.estado," "),t.R7$(4),t.Y8G("ngIf","ABIERTO"===n.estado),t.R7$(5),t.Y8G("disabled","ABIERTO"===n.estado)}}function G(e,i){if(1&e){const n=t.RV6();t.j41(0,"button",46),t.bIt("click",function(){const r=t.eBV(n).index,s=t.XpG(2);return t.Njj(s.cambiarPagina(r+1))}),t.EFF(1),t.k0s()}if(2&e){const n=i.index,o=t.XpG(2);t.AVh("activa",o.paginaActual===n+1),t.R7$(1),t.SpI(" ",n+1," ")}}const B=function(){return[]};function L(e,i){if(1&e&&(t.j41(0,"div",44),t.DNE(1,G,2,3,"button",45),t.k0s()),2&e){const n=t.XpG();t.R7$(1),t.Y8G("ngForOf",t.lJ4(1,B).constructor(n.totalPaginas()))}}function V(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",47),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.toggleForm())}),t.k0s()}}function X(e,i){if(1&e){const n=t.RV6();t.j41(0,"button",48),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.guardar())}),t.EFF(1,"Guardar evento"),t.k0s()}}function Y(e,i){if(1&e){const n=t.RV6();t.j41(0,"button",48),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.actualizar())}),t.EFF(1,"Actualizar evento"),t.k0s()}}function U(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",49)(1,"div",50),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.showPrediccion=!1)}),t.k0s(),t.j41(2,"div",51)(3,"h3"),t.EFF(4,"Predicci\xf3n del evento"),t.k0s(),t.j41(5,"p")(6,"b"),t.EFF(7,"Subastas aceptadas:"),t.k0s(),t.EFF(8),t.k0s(),t.j41(9,"p")(10,"b"),t.EFF(11,"Inicio:"),t.k0s(),t.EFF(12),t.k0s(),t.j41(13,"p")(14,"b"),t.EFF(15,"Fin estimado:"),t.k0s(),t.EFF(16),t.k0s(),t.j41(17,"button",48),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.showPrediccion=!1)}),t.EFF(18,"Cerrar"),t.k0s()()()}if(2&e){const n=t.XpG();t.R7$(8),t.SpI(" ",n.getTotalSubastas(n.eventoPrediccion.id),""),t.R7$(4),t.SpI(" ",n.formatearHora(n.eventoPrediccion.horaInicio),""),t.R7$(4),t.SpI(" ",n.calcularHoraFin(n.eventoPrediccion),"")}}let H=(()=>{class e{constructor(n,o,a){this.eventoService=n,this.adminService=o,this.router=a,this.evento=new F,this.eventos=[],this.editando=!1,this.showForm=!1,this.hayEventoAbierto=!1,this.showPrediccion=!1,this.subastasAceptadasPorEvento={},this.paginaActual=1,this.eventosPorPagina=5}ngOnInit(){this.listar()}listar(){this.eventoService.list().subscribe(n=>{this.eventos=n.sort((o,a)=>"ABIERTO"===o.estado&&"ABIERTO"!==a.estado?-1:"ABIERTO"!==o.estado&&"ABIERTO"===a.estado?1:0),this.hayEventoAbierto=this.eventos.some(o=>"ABIERTO"===o.estado),this.cargarSubastasAceptadas()})}cargarSubastasAceptadas(){this.adminService.listarSubastasAceptadas().subscribe(n=>{this.subastasAceptadasPorEvento={},n.forEach(o=>{if(null==o.eventoId)return;const a=o.eventoId;this.subastasAceptadasPorEvento[a]=(this.subastasAceptadasPorEvento[a]||0)+1})})}getTotalSubastas(n){return this.subastasAceptadasPorEvento[n]||0}get eventosPaginados(){const n=(this.paginaActual-1)*this.eventosPorPagina;return this.eventos.slice(n,n+this.eventosPorPagina)}cambiarPagina(n){this.paginaActual=n}totalPaginas(){return Math.ceil(this.eventos.length/this.eventosPorPagina)}guardar(){this.hayEventoAbierto||this.eventoService.insert(this.evento).subscribe(()=>{this.limpiar(),this.listar(),this.showForm=!1})}seleccionar(n){this.evento={...n},this.editando=!0}actualizar(){this.eventoService.update(this.evento).subscribe(()=>{this.limpiar(),this.listar(),this.showForm=!1})}eliminar(n){this.getTotalSubastas(n)>0?alert("No se puede borrar este evento porque existen subastas asociadas."):confirm("\xbfEst\xe1s seguro de eliminar este evento?")&&this.eventoService.delete(n).subscribe(()=>this.listar())}cerrarManual(n){confirm("\xbfEst\xe1s seguro de que quieres cerrar este evento?")&&this.eventoService.updateEstado(n,"CERRADO").subscribe(()=>this.listar())}irAOrganizarSubastas(n){this.router.navigate(["/components/organizar-subastas",n])}toggleForm(){this.hayEventoAbierto&&!this.editando||(this.showForm=!this.showForm,this.showForm||this.limpiar())}limpiar(){this.evento=new F,this.editando=!1}formatearHora(n){if(!n)return"-";const[o,a]=n.split(":").map(Number),r=new Date;return r.setHours(o,a,0,0),r.toLocaleTimeString("es-PE",{hour:"numeric",minute:"2-digit",hour12:!0})}calcularHoraFin(n){const o=this.getTotalSubastas(n.id);if(!o||!n.horaInicio)return"-";const[a,r]=n.horaInicio.split(":").map(Number),s=new Date;s.setHours(a,r,0,0);const _=o*n.duracionSubastaMinutos+(o-1)*n.descansoMinutos;return s.setMinutes(s.getMinutes()+_),s.toLocaleTimeString("es-PE",{hour:"numeric",minute:"2-digit",hour12:!0})}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(h),t.rXU(O),t.rXU(g.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-evento"]],decls:48,vars:16,consts:[[1,"evento-page"],[1,"top-bar"],[1,"btn-new",3,"disabled","click"],[1,"fa-solid","fa-plus"],["class","warning",4,"ngIf"],[1,"lista-eventos"],["class","evento-row",4,"ngFor","ngForOf"],["class","paginador",4,"ngIf"],["class","drawer-overlay",3,"click",4,"ngIf"],[1,"drawer"],[1,"drawer-header"],[1,"close-btn",3,"click"],[1,"drawer-body"],[1,"form-section"],[3,"ngModel","ngModelChange"],[1,"form-grid"],["type","date",3,"ngModel","ngModelChange"],["type","time",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],[1,"drawer-footer"],["class","btn-save",3,"click",4,"ngIf"],[1,"btn-cancel",3,"click"],["class","modal",4,"ngIf"],[1,"warning"],[1,"evento-row"],[1,"row-left"],[1,"fecha-badge"],[1,"dia"],[1,"mes"],[1,"evento-info"],[1,"fa-regular","fa-clock"],[1,"row-right"],[1,"estado-chip"],[1,"acciones"],[1,"icon-btn","edit",3,"click"],[1,"fa-solid","fa-pen"],["class","icon-btn lock",3,"click",4,"ngIf"],[1,"icon-btn","organize",3,"click"],[1,"fa-solid","fa-list"],[1,"fa-solid","fa-chart-line"],[1,"icon-btn","delete",3,"disabled","click"],[1,"fa-solid","fa-trash"],[1,"icon-btn","lock",3,"click"],[1,"fa-solid","fa-lock"],[1,"paginador"],[3,"activa","click",4,"ngFor","ngForOf"],[3,"click"],[1,"drawer-overlay",3,"click"],[1,"btn-save",3,"click"],[1,"modal"],[1,"modal-bg",3,"click"],[1,"modal-content"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"br"),t.j41(3,"h2"),t.EFF(4,"Eventos de Subasta"),t.k0s(),t.j41(5,"button",2),t.bIt("click",function(){return a.toggleForm()}),t.nrm(6,"i",3),t.EFF(7," Nuevo evento "),t.k0s()(),t.j41(8,"strong"),t.DNE(9,D,2,0,"p",4),t.k0s(),t.j41(10,"div",5),t.DNE(11,N,32,20,"div",6),t.k0s(),t.DNE(12,L,2,2,"div",7),t.DNE(13,V,1,0,"div",8),t.j41(14,"div",9)(15,"div",10)(16,"h3"),t.EFF(17),t.k0s(),t.j41(18,"button",11),t.bIt("click",function(){return a.toggleForm()}),t.EFF(19,"\xd7"),t.k0s()(),t.j41(20,"div",12)(21,"div",13)(22,"label"),t.EFF(23,"Nombre del evento"),t.k0s(),t.j41(24,"input",14),t.bIt("ngModelChange",function(s){return a.evento.nombre=s}),t.k0s()(),t.j41(25,"div",15)(26,"div",13)(27,"label"),t.EFF(28,"Fecha del evento"),t.k0s(),t.j41(29,"input",16),t.bIt("ngModelChange",function(s){return a.evento.fechaEvento=s}),t.k0s()(),t.j41(30,"div",13)(31,"label"),t.EFF(32,"Hora de inicio"),t.k0s(),t.j41(33,"input",17),t.bIt("ngModelChange",function(s){return a.evento.horaInicio=s}),t.k0s()(),t.j41(34,"div",13)(35,"label"),t.EFF(36,"Duraci\xf3n por subasta"),t.k0s(),t.j41(37,"input",18),t.bIt("ngModelChange",function(s){return a.evento.duracionSubastaMinutos=s}),t.k0s()(),t.j41(38,"div",13)(39,"label"),t.EFF(40,"Descanso"),t.k0s(),t.j41(41,"input",18),t.bIt("ngModelChange",function(s){return a.evento.descansoMinutos=s}),t.k0s()()()(),t.j41(42,"div",19),t.DNE(43,X,2,0,"button",20),t.DNE(44,Y,2,0,"button",20),t.j41(45,"button",21),t.bIt("click",function(){return a.toggleForm()}),t.EFF(46,"Cancelar"),t.k0s()()(),t.DNE(47,U,19,3,"div",22),t.k0s()),2&o&&(t.R7$(5),t.Y8G("disabled",a.hayEventoAbierto),t.R7$(4),t.Y8G("ngIf",a.hayEventoAbierto),t.R7$(2),t.Y8G("ngForOf",a.eventosPaginados),t.R7$(1),t.Y8G("ngIf",a.totalPaginas()>1),t.R7$(1),t.Y8G("ngIf",a.showForm),t.R7$(1),t.AVh("open",a.showForm),t.R7$(3),t.JRh(a.editando?"Editar evento":"Crear nuevo evento"),t.R7$(7),t.Y8G("ngModel",a.evento.nombre),t.R7$(5),t.Y8G("ngModel",a.evento.fechaEvento),t.R7$(4),t.Y8G("ngModel",a.evento.horaInicio),t.R7$(4),t.Y8G("ngModel",a.evento.duracionSubastaMinutos),t.R7$(4),t.Y8G("ngModel",a.evento.descansoMinutos),t.R7$(2),t.Y8G("ngIf",!a.editando),t.R7$(1),t.Y8G("ngIf",a.editando),t.R7$(3),t.Y8G("ngIf",a.showPrediccion))},dependencies:[d.Sq,d.bT,l.me,l.Q0,l.BC,l.vS,d.vh],styles:[".evento-page[_ngcontent-%COMP%]{padding:20px;font-family:Inter,Segoe UI,sans-serif;min-height:100vh;color:var(--color-text)}.evento-page[_ngcontent-%COMP%]   .top-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1px 16px}.evento-page[_ngcontent-%COMP%]   .top-bar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:20px}.evento-page[_ngcontent-%COMP%]   .btn-new[_ngcontent-%COMP%]{background:var(--color-btn-primary);color:var(--color-btn-text-light);border:none;padding:12px 18px;border-radius:12px;font-weight:600;display:flex;align-items:center;gap:8px;cursor:pointer}.evento-page[_ngcontent-%COMP%]   .btn-new[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.evento-page[_ngcontent-%COMP%]   .lista-eventos[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.evento-page[_ngcontent-%COMP%]   .evento-row[_ngcontent-%COMP%]{background:var(--color-bg);border-radius:16px;padding:16px;display:flex;justify-content:space-between;gap:14px;box-shadow:0 4px 10px #0000000d}.evento-page[_ngcontent-%COMP%]   .row-left[_ngcontent-%COMP%]{display:flex;gap:14px;align-items:center}.evento-page[_ngcontent-%COMP%]   .fecha-badge[_ngcontent-%COMP%]{background:var(--color-success);color:var(--color-primary);border-radius:12px;padding:8px 12px;min-width:56px;text-align:center}.evento-page[_ngcontent-%COMP%]   .fecha-badge[_ngcontent-%COMP%]   .dia[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.evento-page[_ngcontent-%COMP%]   .fecha-badge[_ngcontent-%COMP%]   .mes[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase}.evento-page[_ngcontent-%COMP%]   .evento-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600}.evento-page[_ngcontent-%COMP%]   .evento-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:var(--color-text-muted)}.evento-page[_ngcontent-%COMP%]   .row-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.evento-page[_ngcontent-%COMP%]   .estado-chip[_ngcontent-%COMP%]{padding:6px 12px;border-radius:999px;font-size:12px;font-weight:600}.evento-page[_ngcontent-%COMP%]   .estado-chip.abierto[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.evento-page[_ngcontent-%COMP%]   .estado-chip.cerrado[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.evento-page[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]{display:flex;gap:10px}.evento-page[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{min-width:44px;min-height:44px;border:none;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:16px;cursor:pointer}.evento-page[_ngcontent-%COMP%]   .icon-btn.edit[_ngcontent-%COMP%]{background:#fef9c3}.evento-page[_ngcontent-%COMP%]   .icon-btn.lock[_ngcontent-%COMP%]{background:#fde68a}.evento-page[_ngcontent-%COMP%]   .icon-btn.organize[_ngcontent-%COMP%]{background:#e0e7ff}.evento-page[_ngcontent-%COMP%]   .icon-btn.delete[_ngcontent-%COMP%]{background:#fecaca}.evento-page[_ngcontent-%COMP%]   .drawer-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:900}.evento-page[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:92%;max-width:460px;background:var(--color-bg);border-radius:22px;box-shadow:0 24px 48px #00000040;display:none;flex-direction:column;z-index:1000}.evento-page[_ngcontent-%COMP%]   .drawer.open[_ngcontent-%COMP%]{display:flex}.evento-page[_ngcontent-%COMP%]   .drawer-header[_ngcontent-%COMP%]{padding:18px 20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--color-border)}.evento-page[_ngcontent-%COMP%]   .drawer-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600}.evento-page[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{border:none;background:none;font-size:26px;cursor:pointer}.evento-page[_ngcontent-%COMP%]   .drawer-body[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;gap:16px}.evento-page[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.evento-page[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:var(--color-text-muted)}.evento-page[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:46px;padding:0 14px;border-radius:14px;border:1px solid var(--color-border);font-size:15px;width:100%;box-sizing:border-box}.evento-page[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.evento-page[_ngcontent-%COMP%]   .drawer-footer[_ngcontent-%COMP%]{display:flex;gap:14px;padding:18px 20px;border-top:1px solid var(--color-border)}.evento-page[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{flex:1;background:var(--color-btn-primary);color:var(--color-btn-text-light);border:none;border-radius:16px;padding:14px;font-weight:600;cursor:pointer}.evento-page[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{flex:1;background:var(--color-btn-secondary);border:none;border-radius:16px;padding:14px;font-weight:600;cursor:pointer}.evento-page[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1200;display:flex;align-items:center;justify-content:center;padding:24px}.evento-page[_ngcontent-%COMP%]   .modal-bg[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.55)}.evento-page[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;background:var(--color-bg);border-radius:22px;padding:22px;width:100%;max-width:420px;box-shadow:0 30px 60px #00000059;display:flex;flex-direction:column;gap:8px}.evento-page[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 6px;font-size:20px;font-weight:600}.evento-page[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;font-size:14px;color:var(--color-text-muted)}.paginador[_ngcontent-%COMP%]{display:flex;gap:6px;justify-content:center;margin-top:16px}.paginador[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border-radius:8px;border:1px solid var(--color-border);background:var(--color-bg);cursor:pointer}.paginador[_ngcontent-%COMP%]   button.activa[_ngcontent-%COMP%]{background:var(--color-btn-primary);color:var(--color-btn-text-light);border-color:var(--color-btn-primary)}@media (max-width:768px){.evento-page[_ngcontent-%COMP%]   .top-bar[_ngcontent-%COMP%]{position:relative;flex-direction:column;align-items:center;gap:12px}.evento-page[_ngcontent-%COMP%]   .top-bar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;width:100%}.evento-page[_ngcontent-%COMP%]{padding:14px}.evento-page[_ngcontent-%COMP%]   .top-bar[_ngcontent-%COMP%]{flex-direction:column;gap:12px;align-items:stretch}.evento-page[_ngcontent-%COMP%]   .btn-new[_ngcontent-%COMP%]{width:100%;justify-content:center}.evento-page[_ngcontent-%COMP%]   .evento-row[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.evento-page[_ngcontent-%COMP%]   .row-left[_ngcontent-%COMP%]{align-items:flex-start}.evento-page[_ngcontent-%COMP%]   .row-right[_ngcontent-%COMP%]{width:100%;flex-direction:column;align-items:flex-start;gap:10px}.evento-page[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]{width:100%;flex-wrap:wrap;gap:8px}.evento-page[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{flex:1}.evento-page[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.evento-page[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]{width:95%;max-height:90vh}.evento-page[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{padding:28px}.evento-page[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{max-width:none}}"]})}}return e})();class j{constructor(){this.id=0,this.planta="",this.maceta="",this.observaciones="",this.imagen="",this.estado="PENDIENTE",this.precioBase=0}}const q=b.c.base;let C=(()=>{class e{constructor(n){this.http=n,this.url=`${q}/subastas`,this.listaCambio=new f.B}getHeaders(n=!0){const o=sessionStorage.getItem("token");let a=(new p.Lr).set("Authorization",`Bearer ${o}`);return n&&(a=a.set("Content-Type","application/json")),a}listMisSubastas(){return this.http.get(`${this.url}/mis-subastas`,{headers:this.getHeaders()})}listByEstado(n){return this.http.get(`${this.url}/estado/${n}`,{headers:this.getHeaders()})}listByEvento(n){return this.http.get(`${this.url}/evento/${n}`,{headers:this.getHeaders()})}getById(n){return this.http.get(`${this.url}/${n}`,{headers:this.getHeaders()})}insertFormData(n){return this.http.post(this.url,n,{headers:this.getHeaders(!1)}).pipe((0,v.W)(o=>(0,x.$)(o)))}updateFormData(n,o){return this.http.put(`${this.url}/${n}`,o,{headers:this.getHeaders(!1)}).pipe((0,v.W)(a=>(0,x.$)(a)))}updateEstado(n,o){return this.http.put(`${this.url}/${n}/estado/${o}`,{},{headers:this.getHeaders()})}delete(n){return this.http.delete(`${this.url}/${n}`,{headers:this.getHeaders()})}setList(n){this.listaCambio.next(n)}getList(){return this.listaCambio.asObservable()}listSubastadorPorEvento(n){return this.http.get(`${this.url}/subastador/evento/${n}`,{headers:this.getHeaders()})}static{this.\u0275fac=function(o){return new(o||e)(t.KVO(p.Qq))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),y=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-terminos-condiciones-subastadores"]],decls:43,vars:0,consts:[[1,"terminos-container"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"h2"),t.EFF(2,"Condiciones para la Publicaci\xf3n de Subastas de Plantas"),t.k0s(),t.j41(3,"p"),t.EFF(4," Antes de registrar una subasta en CarniNet, el subastador declara y acepta lo siguiente: "),t.k0s(),t.j41(5,"h3"),t.EFF(6,"1. Estado y Propiedad de la Planta"),t.k0s(),t.j41(7,"p"),t.EFF(8," El subastador confirma que la planta ofrecida es de su propiedad o que cuenta con la autorizaci\xf3n correspondiente para subastarla. La planta debe encontrarse en un estado acorde a su descripci\xf3n, evitando informaci\xf3n enga\xf1osa o incompleta. "),t.k0s(),t.j41(9,"h3"),t.EFF(10,"2. Informaci\xf3n Veraz"),t.k0s(),t.j41(11,"p"),t.EFF(12," Toda la informaci\xf3n ingresada (nombre de la planta, precio base, maceta, observaciones e im\xe1genes) debe ser real, actualizada y representativa de la planta ofrecida. Las im\xe1genes deben corresponder a la planta real que ser\xe1 subastada. "),t.k0s(),t.j41(13,"h3"),t.EFF(14,"3. Revisi\xf3n por Administraci\xf3n"),t.k0s(),t.j41(15,"p"),t.EFF(16," Cada subasta registrada ser\xe1 revisada por el equipo de administraci\xf3n antes de ser habilitada en el evento. La administraci\xf3n se reserva el derecho de aprobar, rechazar o solicitar correcciones si la subasta no cumple con los criterios establecidos por la plataforma. "),t.k0s(),t.j41(17,"h3"),t.EFF(18,"4. Cumplimiento de Normas del Evento"),t.k0s(),t.j41(19,"p"),t.EFF(20," El subastador acepta respetar las reglas y condiciones del evento activo, incluyendo fechas, horarios y lineamientos definidos por la organizaci\xf3n. "),t.k0s(),t.j41(21,"h3"),t.EFF(22,"5. Uso de Subastas para Historial y M\xe9tricas"),t.k0s(),t.j41(23,"p"),t.EFF(24," Las subastas registradas podr\xe1n ser utilizadas por la plataforma para la construcci\xf3n de un historial interno del subastador, el cual servir\xe1 como base para futuras funcionalidades. Este historial podr\xe1 ser considerado para m\xe9tricas de participaci\xf3n, actividad y referencia dentro del rubro de plantas carn\xedvoras, con el objetivo de fortalecer la confianza y la reputaci\xf3n del subastador dentro de la comunidad. "),t.k0s(),t.j41(25,"p"),t.EFF(26," Dicha informaci\xf3n ser\xe1 utilizada \xfanicamente para el desarrollo y mejora de CarniNet y no ser\xe1 compartida ni utilizada con fines externos. "),t.k0s(),t.j41(27,"h3"),t.EFF(28,"6. Responsabilidad del Subastador"),t.k0s(),t.j41(29,"p"),t.EFF(30," El subastador es responsable por la informaci\xf3n publicada y por cualquier consecuencia derivada de datos incorrectos, incompletos o no representativos. "),t.k0s(),t.j41(31,"h3"),t.EFF(32,"7. Uso Adecuado de la Plataforma"),t.k0s(),t.j41(33,"p"),t.EFF(34," Queda prohibido el uso indebido de la plataforma, incluyendo la publicaci\xf3n de subastas falsas, productos no permitidos, duplicaci\xf3n de registros o cualquier intento de manipulaci\xf3n del sistema. "),t.k0s(),t.j41(35,"h3"),t.EFF(36,"8. Sanciones"),t.k0s(),t.j41(37,"p"),t.EFF(38," El incumplimiento de estas condiciones podr\xe1 resultar en el rechazo de la subasta, la suspensi\xf3n temporal del acceso o el bloqueo de la cuenta, seg\xfan la gravedad del caso. "),t.k0s(),t.j41(39,"h3"),t.EFF(40,"9. Aceptaci\xf3n"),t.k0s(),t.j41(41,"p"),t.EFF(42," Al registrar una subasta, el subastador declara haber le\xeddo y aceptado estas condiciones, comprometi\xe9ndose a cumplirlas durante todo el proceso del evento. "),t.k0s()())},styles:[".terminos-container[_ngcontent-%COMP%]{max-width:900px;margin:40px auto;padding:40px 35px;background-color:var(--color-bg-alt);border-radius:20px;box-shadow:0 10px 25px #00000014;color:var(--color-text);font-size:1rem;line-height:1.7;overflow-y:auto}.terminos-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--color-title);margin-bottom:25px;text-align:center;border-bottom:3px solid var(--color-primary);padding-bottom:12px}.terminos-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--color-primary);margin-top:25px;margin-bottom:15px}.terminos-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-muted);margin-bottom:18px}.terminos-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:25px;margin-bottom:18px}.terminos-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.terminos-container[_ngcontent-%COMP%]   span.resaltar[_ngcontent-%COMP%]{font-weight:600;color:var(--color-primary)}.terminos-container[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:var(--color-secondary)}@media (max-width: 768px){.terminos-container[_ngcontent-%COMP%]{padding:25px 20px;margin:20px}.terminos-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem;padding-bottom:8px}.terminos-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.terminos-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .terminos-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.95rem}}"]})}}return e})();function J(e,i){if(1&e&&(t.j41(0,"option",22),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const n=i.$implicit;t.Y8G("value",n.id),t.R7$(1),t.E5c(" ",n.nombre," - ",t.i5U(2,4,n.fechaEvento,"shortDate")," - ",n.horaInicio," ")}}function Z(e,i){if(1&e&&(t.j41(0,"div",23),t.nrm(1,"img",24),t.k0s()),2&e){const n=t.XpG(2);t.R7$(1),t.Y8G("src",n.previewUrl,t.B4B)}}function Q(e,i){if(1&e&&(t.j41(0,"div",25)(1,"p"),t.EFF(2),t.k0s()()),2&e){const n=t.XpG(2);t.R7$(1),t.AVh("exito",n.registroExitoso),t.R7$(1),t.SpI(" ",n.mensajeEstado," ")}}function K(e,i){if(1&e){const n=t.RV6();t.j41(0,"div")(1,"div",4)(2,"label"),t.EFF(3,"Evento *"),t.k0s(),t.j41(4,"select",5),t.bIt("ngModelChange",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.subasta.eventoId=a)}),t.j41(5,"option",6),t.EFF(6,"Selecciona un evento"),t.k0s(),t.DNE(7,J,3,7,"option",7),t.k0s()(),t.j41(8,"div",4)(9,"label"),t.EFF(10,"Planta *"),t.k0s(),t.j41(11,"textarea",8),t.bIt("ngModelChange",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.subasta.planta=a)}),t.EFF(12,"      "),t.k0s()(),t.j41(13,"div",4)(14,"label"),t.EFF(15,"Maceta (opcional)"),t.k0s(),t.j41(16,"input",9),t.bIt("ngModelChange",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.subasta.maceta=a)}),t.k0s()(),t.j41(17,"div",4)(18,"label"),t.EFF(19,"Precio base (S/) *"),t.k0s(),t.j41(20,"input",10),t.bIt("ngModelChange",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.subasta.precioBase=a)}),t.k0s()(),t.j41(21,"div",4)(22,"label"),t.EFF(23,"Observaciones (opcional)"),t.k0s(),t.j41(24,"input",11),t.bIt("ngModelChange",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.subasta.observaciones=a)}),t.k0s()(),t.j41(25,"div",4)(26,"label"),t.EFF(27,"Imagen *"),t.k0s(),t.j41(28,"label",12)(29,"span"),t.EFF(30,"\u{1f4f7} Seleccionar imagen"),t.k0s(),t.j41(31,"input",13),t.bIt("change",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.onFileSelected(a))}),t.k0s()()(),t.DNE(32,Z,2,1,"div",14),t.j41(33,"div",15)(34,"label")(35,"input",16),t.bIt("ngModelChange",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.aceptaTerminos=a)}),t.k0s(),t.EFF(36," Acepto los t\xe9rminos y condiciones "),t.k0s(),t.j41(37,"span",17),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.mostrarTerminos=!0)}),t.EFF(38," Leer t\xe9rminos "),t.k0s()(),t.DNE(39,Q,3,3,"div",18),t.j41(40,"div",19)(41,"button",20),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.subastaEditando?a.guardarEdicion():a.crear())}),t.EFF(42),t.k0s(),t.j41(43,"button",21),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.cancelarEdicion())}),t.EFF(44," Cancelar "),t.k0s()()()}if(2&e){const n=t.XpG();t.R7$(4),t.Y8G("ngModel",n.subasta.eventoId),t.R7$(3),t.Y8G("ngForOf",n.eventosAbiertos),t.R7$(4),t.Y8G("ngModel",n.subasta.planta),t.R7$(5),t.Y8G("ngModel",n.subasta.maceta),t.R7$(4),t.Y8G("ngModel",n.subasta.precioBase),t.R7$(4),t.Y8G("ngModel",n.subasta.observaciones),t.R7$(8),t.Y8G("ngIf",n.previewUrl),t.R7$(3),t.Y8G("ngModel",n.aceptaTerminos),t.R7$(4),t.Y8G("ngIf",n.isLoading||n.mensajeEstado),t.R7$(2),t.Y8G("disabled",n.isLoading||!n.aceptaTerminos),t.R7$(1),t.SpI(" ",n.isLoading?"Procesando...":n.subastaEditando?"Guardar cambios":"Crear Subasta"," "),t.R7$(1),t.Y8G("disabled",n.isLoading)}}function W(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",26)(1,"p",27),t.EFF(2," \u{1f6ab} Por el momento no hay eventos abiertos, vuelve m\xe1s tarde. "),t.k0s(),t.j41(3,"div",19)(4,"button",28),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.cancelarEdicion())}),t.EFF(5," Volver "),t.k0s()()()}}function tt(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",29)(1,"div",30)(2,"div",31)(3,"h3"),t.EFF(4,"T\xe9rminos y Condiciones para Subastadores"),t.k0s(),t.j41(5,"button",32),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.mostrarTerminos=!1)}),t.EFF(6,"\u2716"),t.k0s()(),t.j41(7,"div",33),t.nrm(8,"app-terminos-condiciones-subastadores"),t.k0s(),t.j41(9,"div",34)(10,"button",35),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.mostrarTerminos=!1)}),t.EFF(11," Cerrar "),t.k0s()()()()}}let w=(()=>{class e{constructor(n,o,a,r){this.subastaService=n,this.eventoService=o,this.router=a,this.route=r,this.subasta=new j,this.eventosAbiertos=[],this.previewUrl=null,this.subastaEditando=null,this.aceptaTerminos=!1,this.isLoading=!1,this.mensajeEstado="",this.registroExitoso=!1,this.mostrarTerminos=!1}ngOnInit(){this.cargarEventosAbiertos();const n=this.route.snapshot.paramMap.get("id");n&&this.cargarSubasta(+n)}cargarEventosAbiertos(){this.eventoService.list().subscribe(n=>{this.eventosAbiertos=n.filter(o=>"ABIERTO"===o.estado)})}cargarSubasta(n){this.subastaService.getById(n).subscribe({next:o=>{this.subastaEditando=o,this.subasta={...o},this.previewUrl="string"==typeof o.imagen?o.imagen:null},error:()=>{}})}onFileSelected(n){const o=n.target.files[0];if(!o)return;this.subasta.imagen=o;const a=new FileReader;a.readAsDataURL(o),a.onload=()=>{this.previewUrl=a.result}}buildFormData(n){const o=new FormData;n.imagen instanceof File&&o.append("archivo",n.imagen);const a={...n};return a.imagen instanceof File&&delete a.imagen,o.append("dto",new Blob([JSON.stringify(a)],{type:"application/json"})),o}crear(){if(!this.validarSubasta())return;this.isLoading=!0,this.registroExitoso=!1,this.mensajeEstado="Registrando subasta...";const n=this.buildFormData(this.subasta);this.subastaService.insertFormData(n).subscribe({next:()=>{this.isLoading=!1,this.registroExitoso=!0,this.mensajeEstado="Subasta registrada \u2714",setTimeout(()=>this.cancelarEdicion(),1500)},error:()=>{this.isLoading=!1,this.mensajeEstado="Error al registrar la subasta"}})}guardarEdicion(){if(!this.subastaEditando||!this.validarSubasta())return;this.isLoading=!0,this.registroExitoso=!1,this.mensajeEstado="Guardando cambios...";const n=this.buildFormData(this.subasta);this.subastaService.updateFormData(this.subastaEditando.id,n).subscribe({next:()=>{this.isLoading=!1,this.registroExitoso=!0,this.mensajeEstado="Cambios guardados \u2714",setTimeout(()=>this.cancelarEdicion(),1500)},error:()=>{this.isLoading=!1,this.mensajeEstado="Error al guardar los cambios"}})}validarSubasta(){return!(!(this.aceptaTerminos&&this.subasta.eventoId&&this.subasta.planta?.trim()&&this.subasta.precioBase)||this.subasta.precioBase<=0||!this.subasta.imagen||(this.subasta.observaciones?.trim()||(this.subasta.observaciones="-"),0))}cancelarEdicion(){this.subasta=new j,this.subastaEditando=null,this.previewUrl=null,this.mensajeEstado="",this.registroExitoso=!1,history.back()}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(C),t.rXU(h),t.rXU(g.Ix),t.rXU(g.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-subasta"]],decls:7,vars:4,consts:[[1,"subasta-container"],[4,"ngIf","ngIfElse"],["noEventos",""],["class","modal-backdrop",4,"ngIf"],[1,"form-group"],["name","eventoId","required","",3,"ngModel","ngModelChange"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["name","planta","rows","3","placeholder","Nombre de la planta (puedes usar saltos de l\xednea)",3,"ngModel","ngModelChange"],["type","text","placeholder","Tama\xf1o de maceta",3,"ngModel","ngModelChange"],["type","number","placeholder","Ej: 100",3,"ngModel","ngModelChange"],["type","text","placeholder","Coloca alguna observaci\xf3n",3,"ngModel","ngModelChange"],[1,"upload-box"],["type","file","accept","image/*","hidden","",3,"change"],["class","preview",4,"ngIf"],[1,"terminos-check"],["type","checkbox","name","aceptaTerminos",3,"ngModel","ngModelChange"],[1,"link-terminos",3,"click"],["class","estado-proceso",4,"ngIf"],[1,"acciones-form"],[1,"btn-crear",3,"disabled","click"],[1,"btn-cancelar",3,"disabled","click"],[3,"value"],[1,"preview"],[3,"src"],[1,"estado-proceso"],[1,"no-eventos-wrapper"],[1,"no-eventos"],[1,"btn-cancelar",3,"click"],[1,"modal-backdrop"],[1,"modal","modal-grande"],[1,"modal-header"],[1,"cerrar",2,"background","none","border","none",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn-crear",3,"click"]],template:function(o,a){if(1&o&&(t.j41(0,"div",0)(1,"h2"),t.EFF(2),t.k0s(),t.DNE(3,K,45,12,"div",1),t.DNE(4,W,6,0,"ng-template",null,2,t.C5r),t.k0s(),t.DNE(6,tt,12,0,"div",3)),2&o){const r=t.sdS(5);t.R7$(2),t.JRh(a.subastaEditando?"Editar Subasta":"Crea tu Subasta"),t.R7$(1),t.Y8G("ngIf",a.eventosAbiertos.length>0)("ngIfElse",r),t.R7$(3),t.Y8G("ngIf",a.mostrarTerminos)}},dependencies:[d.Sq,d.bT,l.xH,l.y7,l.me,l.Q0,l.Zm,l.wz,l.BC,l.YS,l.vS,y,d.vh],styles:[".subasta-container[_ngcontent-%COMP%]{max-width:760px;margin:40px auto;padding:30px;background:var(--color-bg);border-radius:24px;box-shadow:0 10px 28px #0000001f;font-family:Roboto,Helvetica Neue,sans-serif}.subasta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:var(--color-text)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:6px;color:var(--color-text-muted)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:11px 12px;border-radius:12px;border:1px solid var(--color-border);background:var(--color-bg-alt);font-size:14px;font-family:inherit}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);background:var(--color-bg)}.upload-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:14px;border:2px dashed var(--color-primary);border-radius:16px;background:var(--color-success);color:var(--color-secondary);font-weight:600;cursor:pointer;transition:all .15s ease}.upload-box[_ngcontent-%COMP%]:hover{background:var(--color-success-hover);transform:translateY(-1px)}.preview[_ngcontent-%COMP%]{margin-top:12px;text-align:center}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:260px;border-radius:16px;box-shadow:0 6px 14px #00000026}.acciones-form[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:18px}.btn-crear[_ngcontent-%COMP%]{flex:1;padding:12px;border:none;border-radius:20px;background:linear-gradient(135deg,var(--color-primary),var(--color-primary-light));color:var(--color-bg);font-weight:600;cursor:pointer}.btn-cancelar[_ngcontent-%COMP%]{flex:1;padding:12px;border:none;border-radius:20px;background:var(--color-muted);color:var(--color-text-muted);font-weight:600;cursor:pointer}.no-eventos-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;padding:30px 0;border:2px dashed var(--color-primary);border-radius:16px;background:var(--color-bg-alt)}.no-eventos[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--color-primary);font-weight:600;text-align:center}.estado-proceso[_ngcontent-%COMP%]{margin:16px 0;padding:14px 18px;border-radius:14px;background:rgba(0,0,0,.03);border:1px solid var(--color-border);text-align:center;animation:_ngcontent-%COMP%_fadeIn .3s ease}.estado-proceso[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:600;color:var(--color-text-muted)}.estado-proceso[_ngcontent-%COMP%]   p.exito[_ngcontent-%COMP%]{color:var(--color-primary)}.btn-crear[disabled][_ngcontent-%COMP%], .btn-cancelar[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.terminos-check[_ngcontent-%COMP%]{margin-top:16px;font-size:14px;color:var(--color-text-muted);display:flex;align-items:center;gap:8px}.terminos-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.link-terminos[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:600;cursor:pointer;text-decoration:underline}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.55);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease}.modal[_ngcontent-%COMP%]{width:90%;max-width:860px;max-height:90vh;background:var(--color-bg);border-radius:24px;box-shadow:0 20px 40px #00000040;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{padding:18px 22px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--color-border)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--color-text)}.modal-body[_ngcontent-%COMP%]{padding:20px 22px;overflow-y:auto;background:var(--color-bg-alt)}.modal-footer[_ngcontent-%COMP%]{padding:16px 22px;border-top:1px solid var(--color-border);display:flex;justify-content:flex-end}.btn-cerrar-modal[_ngcontent-%COMP%]{padding:10px 18px;border:none;border-radius:16px;background:var(--color-muted);color:var(--color-text-muted);font-weight:600;cursor:pointer}.btn-cerrar-modal[_ngcontent-%COMP%]:hover{background:var(--color-border)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}@media (max-width:992px){.subasta-container[_ngcontent-%COMP%]{padding:24px}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:220px}}@media (max-width:768px){.subasta-container[_ngcontent-%COMP%]{margin:24px 16px;padding:20px}.acciones-form[_ngcontent-%COMP%]{flex-direction:column}.btn-crear[_ngcontent-%COMP%], .btn-cancelar[_ngcontent-%COMP%]{width:100%}.modal[_ngcontent-%COMP%]{width:95%;max-height:95vh;border-radius:20px}}@media (max-width:520px){.subasta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:13px;padding:10px}.upload-box[_ngcontent-%COMP%]{font-size:13px;padding:12px}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:180px}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}"]})}}return e})();function nt(e,i){if(1&e&&(t.j41(0,"option",8),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const n=i.$implicit;t.Y8G("ngValue",n.id),t.R7$(1),t.Lme("",n.nombre," - ",t.i5U(2,3,n.fechaEvento,"dd/MM/yyyy"),"")}}function et(e,i){1&e&&(t.j41(0,"div",9)(1,"p"),t.EFF(2,"Cargando tus subastas\u2026"),t.k0s()())}function ot(e,i){1&e&&(t.j41(0,"div",9)(1,"p"),t.EFF(2,"No hay subastas registradas para este evento"),t.k0s()())}function at(e,i){if(1&e&&t.nrm(0,"img",25),2&e){const n=t.XpG().$implicit;t.Y8G("src",n.imagen,t.B4B)}}function rt(e,i){1&e&&(t.j41(0,"div",26),t.EFF(1,"Sin imagen"),t.k0s())}function it(e,i){if(1&e){const n=t.RV6();t.j41(0,"button",27),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.editar(a))}),t.EFF(1," Editar "),t.k0s()}}function st(e,i){if(1&e){const n=t.RV6();t.j41(0,"button",28),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.eliminar(a.id))}),t.EFF(1," Eliminar "),t.k0s()}}function ct(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",12)(1,"div",13),t.DNE(2,at,1,1,"img",14),t.DNE(3,rt,2,0,"ng-template",null,15,t.C5r),t.j41(5,"span",16),t.EFF(6),t.k0s()(),t.j41(7,"div",17)(8,"h3"),t.EFF(9),t.k0s(),t.j41(10,"div",18)(11,"div",19)(12,"strong"),t.EFF(13,"Evento:"),t.k0s(),t.j41(14,"span"),t.EFF(15),t.k0s()(),t.j41(16,"div",19)(17,"strong"),t.EFF(18,"Fecha:"),t.k0s(),t.j41(19,"span"),t.EFF(20),t.nI1(21,"date"),t.k0s()(),t.j41(22,"div",19)(23,"strong"),t.EFF(24,"Hora inicio:"),t.k0s(),t.j41(25,"span"),t.EFF(26),t.k0s()()(),t.j41(27,"div",18)(28,"div",19)(29,"strong"),t.EFF(30,"Planta:"),t.k0s(),t.j41(31,"span"),t.EFF(32),t.k0s()(),t.j41(33,"div",19)(34,"strong"),t.EFF(35,"Maceta:"),t.k0s(),t.j41(36,"span"),t.EFF(37),t.k0s()(),t.j41(38,"div",19)(39,"strong"),t.EFF(40,"Observaciones:"),t.k0s(),t.j41(41,"span"),t.EFF(42),t.k0s()(),t.j41(43,"div",20)(44,"strong"),t.EFF(45,"Precio base:"),t.k0s(),t.j41(46,"span"),t.EFF(47),t.k0s()()()(),t.j41(48,"div",21)(49,"button",22),t.bIt("click",function(){const r=t.eBV(n).$implicit,s=t.XpG(2);return t.Njj(s.verDetalles(r))}),t.EFF(50,"Ver Detalles"),t.k0s(),t.DNE(51,it,2,0,"button",23),t.DNE(52,st,2,0,"button",24),t.k0s()()}if(2&e){const n=i.$implicit,o=t.sdS(4);t.R7$(2),t.Y8G("ngIf",n.imagen)("ngIfElse",o),t.R7$(3),t.Y8G("ngClass",(n.estado||"pendiente").toLowerCase()),t.R7$(1),t.SpI(" ",n.estado||"Pendiente"," "),t.R7$(3),t.SpI("Subasta #",n.numeroSubasta||"Por definir",""),t.R7$(6),t.JRh(n.eventoNombre||"Por definir"),t.R7$(5),t.JRh(n.fechaEvento?t.i5U(21,14,n.fechaEvento,"dd/MM/yyyy"):"Por definir"),t.R7$(6),t.JRh(n.horaInicio||"Por definir"),t.R7$(6),t.JRh(n.planta),t.R7$(5),t.JRh(n.maceta),t.R7$(5),t.JRh(n.observaciones),t.R7$(5),t.SpI("S/ ",n.precioBase,""),t.R7$(4),t.Y8G("ngIf","ACEPTADA"!==n.estado&&"RECHAZADA"!==n.estado),t.R7$(1),t.Y8G("ngIf","ACEPTADA"!==n.estado)}}function lt(e,i){if(1&e&&(t.j41(0,"div",10),t.DNE(1,ct,53,17,"div",11),t.k0s()),2&e){const n=t.XpG();t.R7$(1),t.Y8G("ngForOf",n.subastas)}}let dt=(()=>{class e{constructor(n,o,a){this.subastaService=n,this.eventoService=o,this.router=a,this.eventos=[],this.eventoSeleccionado=null,this.subastas=[],this.cargando=!1}ngOnInit(){this.cargarEventos()}cargarEventos(){this.eventoService.list().subscribe(n=>{this.eventos=n.sort((o,a)=>new Date(a.fechaEvento).getTime()-new Date(o.fechaEvento).getTime()),this.eventos.length>0&&(this.eventoSeleccionado=this.eventos[0].id,this.cargarSubastasPorEvento())})}cargarSubastasPorEvento(){this.eventoSeleccionado&&(this.cargando=!0,this.subastaService.listSubastadorPorEvento(this.eventoSeleccionado).subscribe({next:n=>{this.subastas=n.sort((o,a)=>(o.numeroSubasta??0)-(a.numeroSubasta??0)),this.cargando=!1},error:()=>this.cargando=!1}))}editar(n){this.router.navigate(["/components/subastas",n.id])}eliminar(n){this.subastaService.delete(n).subscribe(()=>this.cargarSubastasPorEvento())}crearSubasta(){this.eventoSeleccionado&&this.router.navigate(["/components/subastas"],{state:{eventoId:this.eventoSeleccionado}})}verDetalles(n){this.router.navigate(["/components/detalles"],{state:{subasta:n}})}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(C),t.rXU(h),t.rXU(g.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-listar"]],decls:13,vars:7,consts:[[1,"container"],[1,"subastas-header"],[1,"select-evento",3,"ngModel","ngModelChange","change"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"btn-crear",3,"disabled","click"],["class","estado-lista",4,"ngIf"],["class","cards-grid",4,"ngIf"],[3,"ngValue"],[1,"estado-lista"],[1,"cards-grid"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-image-wrapper"],["alt","Imagen subasta","class","card-image",3,"src",4,"ngIf","ngIfElse"],["sinImagen",""],[1,"estado-etiqueta",3,"ngClass"],[1,"card-body"],[1,"card-info-row"],[1,"info-item"],[1,"info-item","precio"],[1,"card-footer"],[1,"btn-detalles",3,"click"],["class","btn-editar",3,"click",4,"ngIf"],["class","btn-eliminar",3,"click",4,"ngIf"],["alt","Imagen subasta",1,"card-image",3,"src"],[1,"sin-imagen"],[1,"btn-editar",3,"click"],[1,"btn-eliminar",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h2"),t.EFF(3,"Tus Subastas"),t.k0s(),t.j41(4,"select",2),t.bIt("ngModelChange",function(s){return a.eventoSeleccionado=s})("change",function(){return a.cargarSubastasPorEvento()}),t.j41(5,"option",3),t.EFF(6,"Elige un evento"),t.k0s(),t.DNE(7,nt,3,6,"option",4),t.k0s(),t.j41(8,"button",5),t.bIt("click",function(){return a.crearSubasta()}),t.EFF(9,"+ Crear Subasta"),t.k0s()(),t.DNE(10,et,3,0,"div",6),t.DNE(11,ot,3,0,"div",6),t.DNE(12,lt,2,1,"div",7),t.k0s()),2&o&&(t.R7$(4),t.Y8G("ngModel",a.eventoSeleccionado),t.R7$(1),t.Y8G("ngValue",null),t.R7$(2),t.Y8G("ngForOf",a.eventos),t.R7$(1),t.Y8G("disabled",!a.eventoSeleccionado),t.R7$(2),t.Y8G("ngIf",a.cargando),t.R7$(1),t.Y8G("ngIf",!a.cargando&&0===a.subastas.length&&a.eventoSeleccionado),t.R7$(1),t.Y8G("ngIf",!a.cargando&&a.subastas.length>0))},dependencies:[d.YU,d.Sq,d.bT,l.xH,l.y7,l.wz,l.BC,l.vS,d.vh],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:24px auto;font-family:Roboto,Helvetica Neue,sans-serif;padding:0 16px}.subastas-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:12px}.subastas-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 auto;font-size:22px;color:var(--color-title);text-align:center}.select-evento[_ngcontent-%COMP%]{padding:10px 16px;border-radius:12px;border:1px solid var(--color-border);font-size:15px;color:var(--color-text);background:var(--color-bg-alt);cursor:pointer;min-width:220px;transition:all .2s ease}.select-evento[_ngcontent-%COMP%]:hover{background:var(--color-muted);border-color:var(--color-btn-secondary)}.btn-crear[_ngcontent-%COMP%]{padding:12px 24px;border-radius:16px;background:#2c7a7b;color:#fff;border:none;font-size:15px;font-weight:600;cursor:pointer;box-shadow:0 6px 12px #0000001f;transition:all .2s ease}.btn-crear[_ngcontent-%COMP%]:hover{background:#276d6e;box-shadow:0 8px 16px #00000029}.cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}.card[_ngcontent-%COMP%]{background:var(--color-bg);border-radius:18px;border:1px solid var(--color-border);display:flex;flex-direction:column;overflow:hidden}.card-image-wrapper[_ngcontent-%COMP%]{position:relative;height:200px;border-bottom:1px solid var(--color-border)}.card-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.sin-imagen[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text-muted);font-size:13px}.estado-etiqueta[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;padding:4px 10px;border-radius:999px;font-size:12px;font-weight:600;background:var(--color-estado-pendiente);color:#92400e}.estado-etiqueta.aceptada[_ngcontent-%COMP%]{background:var(--color-estado-aceptado);color:var(--color-secondary)}.estado-etiqueta.rechazada[_ngcontent-%COMP%]{background:#fee2e2;color:var(--color-estado-rechazado)}.card-body[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:10px}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;color:var(--color-title)}.card-info-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;font-size:12px}.info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:var(--color-title);font-weight:600}.info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-text-muted)}.info-item.precio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:var(--color-secondary)}.card-footer[_ngcontent-%COMP%]{display:flex;gap:10px;padding:14px 16px;border-top:1px solid var(--color-border);flex-wrap:wrap}.card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border-radius:10px;font-size:13px;font-weight:600;cursor:pointer;border:none}.btn-detalles[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--color-border);color:var(--color-primary)}.btn-editar[_ngcontent-%COMP%]{background:var(--color-btn-primary);color:var(--color-btn-text-light)}.btn-editar[_ngcontent-%COMP%]:hover{background:var(--color-btn-primary-light)}.btn-eliminar[_ngcontent-%COMP%]{background:#fee2e2;color:var(--color-estado-rechazado)}.btn-eliminar[_ngcontent-%COMP%]:hover{background:#fecaca}.estado-lista[_ngcontent-%COMP%]{margin:40px 0;padding:28px 20px;border-radius:18px;border:2px dashed var(--color-primary);background:var(--color-bg-alt);text-align:center;animation:_ngcontent-%COMP%_fadeIn .3s ease}.estado-lista[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:600;color:var(--color-text-muted)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 1024px){.subastas-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 768px){.card-info-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}.btn-crear[_ngcontent-%COMP%]{width:100%;text-align:center}}@media (max-width: 520px){.subastas-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.subastas-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.cards-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.select-evento[_ngcontent-%COMP%]{width:100%}.btn-crear[_ngcontent-%COMP%]{width:100%;text-align:center}}"]})}}return e})();function pt(e,i){if(1&e&&t.nrm(0,"img",11),2&e){const n=t.XpG(2);t.Y8G("src",n.subasta.imagen,t.B4B)}}function gt(e,i){1&e&&(t.j41(0,"div",12),t.EFF(1,"Sin imagen"),t.k0s())}function ut(e,i){if(1&e&&(t.j41(0,"div",9)(1,"h3"),t.EFF(2,"Observaciones"),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s()()),2&e){const n=t.XpG(2);t.R7$(4),t.JRh(n.subasta.observaciones)}}function mt(e,i){if(1&e&&(t.j41(0,"div",1)(1,"div",2)(2,"header",3)(3,"h2"),t.EFF(4,"Detalle de la Subasta"),t.k0s(),t.j41(5,"span",4),t.EFF(6),t.k0s()(),t.j41(7,"div",5)(8,"div",6),t.DNE(9,pt,1,1,"img",7),t.DNE(10,gt,2,0,"ng-template",null,8,t.C5r),t.k0s(),t.j41(12,"div",9)(13,"h3"),t.EFF(14,"Informaci\xf3n general"),t.k0s(),t.j41(15,"p")(16,"strong"),t.EFF(17,"N\xb0 de subasta:"),t.k0s(),t.EFF(18),t.k0s(),t.j41(19,"p")(20,"strong"),t.EFF(21,"Evento:"),t.k0s(),t.EFF(22),t.k0s(),t.j41(23,"p")(24,"strong"),t.EFF(25,"Fecha del evento:"),t.k0s(),t.EFF(26),t.nI1(27,"date"),t.k0s(),t.j41(28,"p")(29,"strong"),t.EFF(30,"Hora inicio evento:"),t.k0s(),t.EFF(31),t.k0s()(),t.j41(32,"div",9)(33,"h3"),t.EFF(34,"Horario asignado"),t.k0s(),t.j41(35,"p")(36,"strong"),t.EFF(37,"Inicio:"),t.k0s(),t.EFF(38),t.nrm(39,"br"),t.j41(40,"strong"),t.EFF(41,"Fin:"),t.k0s(),t.EFF(42),t.k0s(),t.j41(43,"p")(44,"strong"),t.EFF(45,"Duraci\xf3n:"),t.k0s(),t.EFF(46),t.k0s(),t.j41(47,"p")(48,"strong"),t.EFF(49,"Descanso:"),t.k0s(),t.EFF(50),t.k0s()(),t.j41(51,"div",9)(52,"h3"),t.EFF(53,"Planta y maceta"),t.k0s(),t.j41(54,"p")(55,"strong"),t.EFF(56,"Planta:"),t.k0s(),t.EFF(57),t.k0s(),t.j41(58,"p")(59,"strong"),t.EFF(60,"Maceta:"),t.k0s(),t.EFF(61),t.k0s(),t.j41(62,"p")(63,"strong"),t.EFF(64,"Precio base:"),t.k0s(),t.EFF(65),t.k0s()(),t.j41(66,"div",9)(67,"h3"),t.EFF(68,"Subastador"),t.k0s(),t.j41(69,"p")(70,"strong"),t.EFF(71,"Nombre:"),t.k0s(),t.EFF(72),t.k0s(),t.j41(73,"p")(74,"strong"),t.EFF(75,"Contacto:"),t.k0s(),t.EFF(76),t.k0s(),t.j41(77,"p")(78,"strong"),t.EFF(79,"Procedencia:"),t.k0s(),t.EFF(80),t.k0s()(),t.DNE(81,ut,5,1,"div",10),t.k0s()()()),2&e){const n=t.sdS(11),o=t.XpG();t.R7$(5),t.Y8G("ngClass",o.subasta.estado.toLowerCase()),t.R7$(1),t.SpI(" ",o.subasta.estado," "),t.R7$(3),t.Y8G("ngIf",o.subasta.imagen)("ngIfElse",n),t.R7$(9),t.SpI(" ",o.subasta.numeroSubasta||"Lo define administraci\xf3n",""),t.R7$(4),t.SpI(" ",o.subasta.eventoNombre,""),t.R7$(4),t.SpI(" ",t.i5U(27,19,o.subasta.fechaEvento,"dd/MM/yyyy"),""),t.R7$(5),t.SpI(" ",o.subasta.horaInicio,""),t.R7$(7),t.SpI(" ",o.subasta.horaInicioAsignada||"Lo define administraci\xf3n",""),t.R7$(4),t.SpI(" ",o.subasta.horaFinAsignada||"Lo define administraci\xf3n"," "),t.R7$(4),t.SpI(" ",o.subasta.duracionSubastaMinutos," min"),t.R7$(4),t.SpI(" ",o.subasta.descansoMinutos," min"),t.R7$(7),t.SpI(" ",o.subasta.planta,""),t.R7$(4),t.SpI(" ",o.subasta.maceta,""),t.R7$(4),t.SpI(" S/ ",o.subasta.precioBase,""),t.R7$(7),t.SpI(" ",o.subasta.username,""),t.R7$(4),t.SpI(" ",o.subasta.phone,""),t.R7$(4),t.SpI(" ",o.subasta.city,""),t.R7$(1),t.Y8G("ngIf",o.subasta.observaciones)}}let bt=(()=>{class e{constructor(n){this.router=n}ngOnInit(){const n=history.state;n.subasta&&(this.subasta=n.subasta)}volver(){history.back()}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(g.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-informacion-subasta"]],decls:1,vars:1,consts:[["class","detalle-container",4,"ngIf"],[1,"detalle-container"],[1,"detalle-card"],[1,"detalle-header"],[1,"estado",3,"ngClass"],[1,"detalle-grid"],[1,"detalle-imagen"],[3,"src",4,"ngIf","ngIfElse"],["sinImagen",""],[1,"detalle-bloque"],["class","detalle-bloque",4,"ngIf"],[3,"src"],[1,"sin-imagen"]],template:function(o,a){1&o&&t.DNE(0,mt,82,22,"div",0),2&o&&t.Y8G("ngIf",a.subasta)},dependencies:[d.YU,d.bT,d.vh],styles:[".detalle-container[_ngcontent-%COMP%]{max-width:1100px;margin:32px auto;font-family:Roboto,Helvetica Neue,sans-serif}.detalle-card[_ngcontent-%COMP%]{background:var(--color-bg);border-radius:22px;border:1px solid var(--color-border);box-shadow:0 14px 40px #00000014;overflow:hidden}.detalle-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid var(--color-border);background:linear-gradient(180deg,var(--color-bg-alt),var(--color-bg))}.detalle-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;color:var(--color-title)}.estado[_ngcontent-%COMP%]{padding:6px 14px;border-radius:999px;font-size:13px;font-weight:700}.estado.pendiente[_ngcontent-%COMP%]{background:var(--color-estado-pendiente);color:#92400e}.estado.aceptada[_ngcontent-%COMP%]{background:var(--color-estado-aceptado);color:var(--color-secondary)}.estado.rechazada[_ngcontent-%COMP%]{background:#fee2e2;color:var(--color-estado-rechazado)}.detalle-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:420px 1fr;gap:24px;padding:24px}.detalle-imagen[_ngcontent-%COMP%]{border-radius:18px;overflow:hidden;border:1px solid var(--color-border);background:var(--color-bg-alt);display:flex;align-items:center;justify-content:center}.detalle-imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.sin-imagen[_ngcontent-%COMP%]{font-size:14px;color:var(--color-text-muted)}.detalle-bloque[_ngcontent-%COMP%]{background:var(--color-bg-alt);border-radius:16px;padding:16px 18px;border:1px solid var(--color-border)}.detalle-bloque[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:15px;color:var(--color-title)}.detalle-bloque[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0;font-size:13px;color:var(--color-text-muted)}.detalle-bloque[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--color-title)}.detalle-footer[_ngcontent-%COMP%]{padding:18px 24px;border-top:1px solid var(--color-border);display:flex;justify-content:flex-end;background:var(--color-bg)}.detalle-footer[_ngcontent-%COMP%]   .btn-volver[_ngcontent-%COMP%]{padding:10px 20px;border-radius:999px;background:var(--color-bg-alt);border:1px solid var(--color-border);font-size:14px;font-weight:600;cursor:pointer;color:var(--color-title)}.detalle-footer[_ngcontent-%COMP%]   .btn-volver[_ngcontent-%COMP%]:hover{background:var(--color-border)}@media (max-width: 1200px){.detalle-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.detalle-imagen[_ngcontent-%COMP%]{height:260px}.detalle-bloque[_ngcontent-%COMP%]{padding:14px 16px}.detalle-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.estado[_ngcontent-%COMP%]{font-size:12px;padding:5px 12px}}@media (max-width: 992px){.detalle-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 768px){.detalle-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.detalle-bloque[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.detalle-bloque[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 520px){.detalle-imagen[_ngcontent-%COMP%]{height:220px}.detalle-bloque[_ngcontent-%COMP%]{padding:12px 14px}.detalle-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}.estado[_ngcontent-%COMP%]{font-size:11px;padding:4px 10px}}"]})}}return e})();function _t(e,i){1&e&&(t.j41(0,"p",8),t.EFF(1," Cargando subastas... "),t.k0s())}function ht(e,i){if(1&e&&t.nrm(0,"img",32),2&e){const n=t.XpG().$implicit;t.Y8G("src",n.imagen,t.B4B)}}function ft(e,i){1&e&&(t.j41(0,"div",33),t.EFF(1,"Sin imagen"),t.k0s())}function vt(e,i){if(1&e&&t.nrm(0,"img",32),2&e){const n=t.XpG().$implicit;t.Y8G("src",n.imagen,t.B4B)}}function xt(e,i){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"button",34),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,r=t.XpG();return t.Njj(r.aceptar(a))}),t.EFF(2),t.k0s(),t.j41(3,"button",35),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,r=t.XpG();return t.Njj(r.rechazar(a))}),t.EFF(4," Rechazar "),t.k0s(),t.bVm()}if(2&e){const n=t.XpG().$implicit,o=t.XpG();t.R7$(1),t.Y8G("disabled",o.accionandoId===n.id),t.R7$(1),t.SpI(" ",o.accionandoId===n.id?"Procesando...":"Aceptar"," "),t.R7$(1),t.Y8G("disabled",o.accionandoId===n.id)}}function Ct(e,i){1&e&&(t.j41(0,"p",36),t.EFF(1," Esta subasta ha sido rechazada por un administrador. "),t.k0s())}const Mt=function(e,i,n){return{"estado-pendiente":e,"estado-aceptado":i,"estado-rechazado":n}};function kt(e,i){if(1&e&&(t.j41(0,"div",9),t.nrm(1,"input",10),t.j41(2,"label",11),t.DNE(3,ht,1,1,"img",12),t.DNE(4,ft,2,0,"ng-template",null,13,t.C5r),t.k0s(),t.j41(6,"div",14),t.nrm(7,"label",15),t.DNE(8,vt,1,1,"img",16),t.j41(9,"label",17),t.EFF(10,"\xd7"),t.k0s()(),t.j41(11,"div",18)(12,"h3"),t.EFF(13),t.k0s(),t.j41(14,"p",19)(15,"span",20),t.EFF(16),t.k0s(),t.j41(17,"span",21),t.EFF(18),t.k0s()(),t.j41(19,"p",22),t.EFF(20),t.k0s()(),t.j41(21,"div",23),t.nrm(22,"input",10),t.j41(23,"label",24),t.EFF(24," Ver Detalle "),t.k0s(),t.j41(25,"div",25)(26,"div",26)(27,"h3"),t.EFF(28,"Informaci\xf3n"),t.k0s(),t.j41(29,"label",27),t.EFF(30,"\xd7"),t.k0s()(),t.j41(31,"div",28)(32,"h3"),t.EFF(33,"Datos del subastador"),t.k0s(),t.j41(34,"p")(35,"b"),t.EFF(36,"Subastador:"),t.k0s(),t.EFF(37),t.k0s(),t.j41(38,"p")(39,"b"),t.EFF(40,"Ciudad:"),t.k0s(),t.EFF(41),t.k0s(),t.j41(42,"p")(43,"b"),t.EFF(44,"Tel\xe9fono:"),t.k0s(),t.EFF(45),t.k0s(),t.nrm(46,"hr"),t.j41(47,"h3"),t.EFF(48,"Datos de la subasta"),t.k0s(),t.j41(49,"p")(50,"b"),t.EFF(51,"Planta:"),t.k0s(),t.EFF(52),t.k0s(),t.j41(53,"p")(54,"b"),t.EFF(55,"Maceta:"),t.k0s(),t.EFF(56),t.k0s(),t.j41(57,"p")(58,"b"),t.EFF(59,"Observaciones:"),t.k0s(),t.EFF(60),t.k0s(),t.j41(61,"p")(62,"b"),t.EFF(63,"Precio Base:"),t.k0s(),t.EFF(64),t.k0s(),t.j41(65,"div",29),t.DNE(66,xt,5,3,"ng-container",30),t.DNE(67,Ct,2,0,"p",31),t.k0s()()()()()),2&e){const n=i.$implicit,o=t.sdS(5);t.R7$(1),t.Mz_("id","img-",n.id,""),t.R7$(1),t.Mz_("for","img-",n.id,""),t.R7$(1),t.Y8G("ngIf",n.imagen)("ngIfElse",o),t.R7$(4),t.Mz_("for","img-",n.id,""),t.R7$(1),t.Y8G("ngIf",n.imagen),t.R7$(1),t.Mz_("for","img-",n.id,""),t.R7$(4),t.JRh(n.planta),t.R7$(2),t.Y8G("ngClass",t.sMw(24,Mt,"PENDIENTE"===n.estado,"ACEPTADA"===n.estado,"RECHAZADA"===n.estado)),t.R7$(1),t.SpI(" ",n.estado," "),t.R7$(2),t.SpI("S/ ",n.precioBase||"-",""),t.R7$(2),t.SpI("Subastador: ",n.username||"-",""),t.R7$(2),t.Mz_("id","det-",n.id,""),t.R7$(1),t.Mz_("for","det-",n.id,""),t.R7$(6),t.Mz_("for","det-",n.id,""),t.R7$(8),t.SpI(" ",n.username||"-",""),t.R7$(4),t.SpI(" ",n.city||"-",""),t.R7$(4),t.SpI(" ",n.phone||"-",""),t.R7$(7),t.SpI(" ",n.planta||"-",""),t.R7$(4),t.SpI(" ",n.maceta||"-",""),t.R7$(4),t.SpI(" ",n.observaciones||"-",""),t.R7$(4),t.SpI(" ",n.precioBase||"-",""),t.R7$(2),t.Y8G("ngIf","PENDIENTE"===n.estado),t.R7$(1),t.Y8G("ngIf","RECHAZADA"===n.estado)}}function Pt(e,i){1&e&&(t.j41(0,"p",8),t.EFF(1," No hay subastas registradas. "),t.k0s())}let Ft=(()=>{class e{constructor(n,o,a,r,s){this.route=n,this.router=o,this.subastaService=a,this.adminService=r,this.eventoService=s,this.subastas=[],this.evento=new F,this.loadingSubastas=!0,this.accionandoId=null}ngOnInit(){this.idEvento=Number(this.route.snapshot.paramMap.get("idEvento")),this.cargarEvento(),this.cargarSubastas()}cargarEvento(){this.eventoService.listId(this.idEvento).subscribe(n=>{this.evento=n})}cargarSubastas(){this.loadingSubastas=!0,this.subastaService.listByEvento(this.idEvento).subscribe(n=>{this.subastas=n.filter(o=>"PENDIENTE"===o.estado||"RECHAZADA"===o.estado),this.loadingSubastas=!1},()=>{this.loadingSubastas=!1})}aceptar(n){this.accionandoId=n.id,this.adminService.decidirSubasta(n.id,"ACEPTADA").subscribe(()=>{this.accionandoId=null,this.cargarSubastas()})}rechazar(n){this.accionandoId=n.id,this.adminService.decidirSubasta(n.id,"RECHAZADA").subscribe(()=>{this.accionandoId=null,this.cargarSubastas()})}verAceptadas(){this.router.navigate(["/components/subastas-aceptadas",this.idEvento])}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(g.nX),t.rXU(g.Ix),t.rXU(C),t.rXU(O),t.rXU(h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-organizar-subastas"]],decls:13,vars:4,consts:[[1,"organizar-container"],[1,"organizar-header"],[1,"header-left"],[1,"evento-id"],[1,"btn-secundario",3,"click"],[1,"lista-subastas"],["class","sin-datos",4,"ngIf"],["class","fila-subasta",4,"ngFor","ngForOf"],[1,"sin-datos"],[1,"fila-subasta"],["type","checkbox","hidden","",3,"id"],[1,"img-box",3,"for"],[3,"src",4,"ngIf","ngIfElse"],["noImg",""],[1,"zoom"],[1,"zoom-bg",3,"for"],[3,"src",4,"ngIf"],[1,"zoom-close",3,"for"],[1,"info"],[1,"meta"],[1,"estado",3,"ngClass"],[1,"precio"],[1,"sub"],[1,"acciones"],[1,"btn-detalle","primary",3,"for"],[1,"drawer"],[1,"drawer-header"],[3,"for"],[1,"drawer-body"],[1,"drawer-acciones"],[4,"ngIf"],["class","mensaje-rechazada",4,"ngIf"],[3,"src"],[1,"img-empty"],[1,"btn-aceptar",3,"disabled","click"],[1,"btn-rechazar",3,"disabled","click"],[1,"mensaje-rechazada"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"header",1)(2,"div",2)(3,"h2"),t.EFF(4,"Subastas del Evento"),t.k0s(),t.j41(5,"span",3),t.EFF(6),t.k0s()(),t.j41(7,"button",4),t.bIt("click",function(){return a.verAceptadas()}),t.EFF(8," Ver subastas aceptadas "),t.k0s()(),t.j41(9,"div",5),t.DNE(10,_t,2,0,"p",6),t.DNE(11,kt,68,28,"div",7),t.DNE(12,Pt,2,0,"p",6),t.k0s()()),2&o&&(t.R7$(6),t.JRh(a.evento.nombre||"Evento sin nombre"),t.R7$(4),t.Y8G("ngIf",a.loadingSubastas),t.R7$(1),t.Y8G("ngForOf",a.subastas),t.R7$(1),t.Y8G("ngIf",!a.loadingSubastas&&!a.subastas.length))},dependencies:[d.YU,d.Sq,d.bT],styles:["h3[_ngcontent-%COMP%]{color:var(--color-primary)}.organizar-container[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;font-family:Roboto,Helvetica Neue,sans-serif}.organizar-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:50;display:grid;grid-template-columns:1fr auto;gap:16px;padding:18px 20px;margin-bottom:24px;border-bottom:1px solid var(--color-border)}.header-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.organizar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;color:var(--color-title)}.organizar-header[_ngcontent-%COMP%]   .evento-id[_ngcontent-%COMP%]{font-size:14px;color:var(--color-text-muted)}.btn-volver[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:6px 14px;border-radius:999px;background:var(--color-bg-alt);border:1px solid var(--color-border);color:var(--color-title);cursor:pointer;font-size:13px}.btn-secundario[_ngcontent-%COMP%]{align-self:center;padding:10px 18px;border-radius:12px;background:var(--color-btn-primary);color:var(--color-btn-text-light);border:none;font-size:14px;font-weight:600;cursor:pointer;box-shadow:0 6px 18px #0000001f}.btn-secundario[_ngcontent-%COMP%]:hover{background:var(--color-btn-primary-light)}.lista-subastas[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.fila-subasta[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px 1fr auto;gap:18px;background:var(--color-bg);padding:18px;border-radius:18px;border:1px solid var(--color-border);align-items:center}.img-box[_ngcontent-%COMP%]{width:200px;height:140px;border-radius:14px;overflow:hidden;cursor:zoom-in;border:1px solid var(--color-border)}.img-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.img-empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;font-size:13px;color:var(--color-text-muted)}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:17px;color:var(--color-title)}.meta[_ngcontent-%COMP%]{display:flex;gap:12px;font-size:13px;margin:6px 0}.precio[_ngcontent-%COMP%]{font-weight:600}.sub[_ngcontent-%COMP%]{font-size:12px;color:var(--color-text-muted)}.estado[_ngcontent-%COMP%]{font-weight:600;padding:4px 10px;border-radius:999px;font-size:12px}.estado-pendiente[_ngcontent-%COMP%]{background:var(--color-estado-pendiente);color:#92400e}.estado-aceptado[_ngcontent-%COMP%]{background:var(--color-estado-aceptado);color:var(--color-secondary)}.estado-rechazado[_ngcontent-%COMP%]{background:#fee2e2;color:var(--color-estado-rechazado)}.acciones[_ngcontent-%COMP%]{display:flex;align-items:center}.btn-detalle[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--color-border);color:var(--color-primary);padding:8px 16px;border-radius:999px;font-size:13px;cursor:pointer}.btn-detalle.primary[_ngcontent-%COMP%]{background:var(--color-btn-primary);color:var(--color-btn-text-light);border:none;padding:10px 18px;display:flex;justify-content:center;align-items:center;text-align:center}.btn-detalle.primary[_ngcontent-%COMP%]:hover{background:var(--color-btn-primary-light)}.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-380px;width:360px;height:100vh;background:var(--color-bg);border-radius:16px 0 0 16px;box-shadow:-8px 0 24px #0000001f;transition:.3s;z-index:1000;overflow-y:auto;display:flex;flex-direction:column}input[id^=det-][_ngcontent-%COMP%]:checked ~ .drawer[_ngcontent-%COMP%]{right:0}.drawer-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:16px;border-bottom:1px solid var(--color-border);background:var(--color-bg-alt)}.drawer-body[_ngcontent-%COMP%]{padding:16px;font-size:14px}.drawer-acciones[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:20px}.btn-aceptar[_ngcontent-%COMP%], .btn-rechazar[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border-radius:10px;border:none;font-size:13px;font-weight:600;cursor:pointer}.btn-aceptar[_ngcontent-%COMP%]{background:var(--color-btn-primary);color:var(--color-btn-text-light)}.btn-aceptar[_ngcontent-%COMP%]:hover{background:var(--color-btn-primary-light)}.btn-rechazar[_ngcontent-%COMP%]{background:#fee2e2;color:var(--color-estado-rechazado)}.btn-rechazar[_ngcontent-%COMP%]:hover{background:#fecaca}.mensaje-rechazada[_ngcontent-%COMP%]{font-size:13px;color:var(--color-estado-rechazado);background:#fee2e2;padding:10px 12px;border-radius:10px;text-align:center}.zoom[_ngcontent-%COMP%]{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:2000}input[id^=img-][_ngcontent-%COMP%]:checked ~ .zoom[_ngcontent-%COMP%]{display:flex}.zoom-bg[_ngcontent-%COMP%]{position:absolute;inset:0;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);background:rgba(0,0,0,.35);z-index:1}.zoom[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90vw;max-height:90vh;border-radius:12px;position:relative;z-index:2;animation:_ngcontent-%COMP%_zoomIn .2s ease-out}.zoom-close[_ngcontent-%COMP%]{position:absolute;top:18px;right:18px;width:42px;height:42px;border-radius:50%;background:rgba(0,0,0,.6);color:#fff;font-size:26px;font-weight:700;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:3;transition:transform .2s ease,background .2s ease}.zoom-close[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.8);transform:scale(1.1)}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.96);opacity:0}to{transform:scale(1);opacity:1}}.sin-datos[_ngcontent-%COMP%]{margin:40px 0;padding:28px 20px;border-radius:18px;border:2px dashed var(--color-primary);background:var(--color-bg-alt);text-align:center;font-size:15px;font-weight:600;color:var(--color-text-muted)}@media (max-width: 1200px){.organizar-container[_ngcontent-%COMP%]{margin:20px auto;padding:0 10px}.fila-subasta[_ngcontent-%COMP%]{grid-template-columns:180px 1fr 180px;gap:18px;padding:20px;justify-items:center}.img-box[_ngcontent-%COMP%]{height:150px}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.precio[_ngcontent-%COMP%]{font-size:17px}}@media (max-width: 992px){.organizar-container[_ngcontent-%COMP%]{padding:0 15px}.organizar-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;gap:12px}.header-left[_ngcontent-%COMP%]{align-items:center}.btn-secundario[_ngcontent-%COMP%]{width:80%;max-width:300px;margin:0 auto}.fila-subasta[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px;padding:18px;justify-items:center}.acciones[_ngcontent-%COMP%]{flex-direction:column;gap:12px;align-items:center}.btn-detalle.primary[_ngcontent-%COMP%]{width:80%;max-width:250px}.img-box[_ngcontent-%COMP%]{width:100%;max-width:280px;height:180px}.drawer[_ngcontent-%COMP%]{width:300px}}@media (max-width: 768px){.fila-subasta[_ngcontent-%COMP%]{gap:14px}.info[_ngcontent-%COMP%]{text-align:center}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:17px}.precio[_ngcontent-%COMP%]{font-size:16px}.estado[_ngcontent-%COMP%]{font-size:12px;padding:4px 10px}.img-box[_ngcontent-%COMP%]{max-width:240px;height:160px}.acciones[_ngcontent-%COMP%]{width:100%;align-items:center}}@media (max-width: 520px){.organizar-container[_ngcontent-%COMP%]{padding:0 12px}.organizar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}.precio[_ngcontent-%COMP%]{font-size:14px}.estado[_ngcontent-%COMP%]{font-size:11px;padding:3px 8px}.img-box[_ngcontent-%COMP%]{max-width:200px;height:140px}.acciones[_ngcontent-%COMP%]{flex-direction:column;gap:8px;align-items:center}.btn-detalle.primary[_ngcontent-%COMP%]{width:90%}.drawer[_ngcontent-%COMP%]{width:260px}}"]})}}return e})();function Ot(e,i){1&e&&(t.j41(0,"p",17),t.EFF(1," Cargando subastas aceptadas... "),t.k0s())}function Et(e,i){if(1&e&&t.nrm(0,"img",33),2&e){const n=t.XpG().$implicit,o=t.XpG();t.Y8G("src",o.getImagenSrc(n),t.B4B)}}function jt(e,i){1&e&&(t.j41(0,"div",34),t.EFF(1,"Sin imagen"),t.k0s())}function yt(e,i){if(1&e){const n=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,r=t.XpG();return t.Njj(r.copiarSubasta(a))}),t.nrm(1,"i",36),t.EFF(2," Copiar "),t.k0s()}}function wt(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",37)(1,"div",38),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit;return t.Njj(a.showModal=!1)}),t.k0s(),t.j41(2,"div",39)(3,"div",40)(4,"h3"),t.EFF(5),t.k0s(),t.j41(6,"button",41),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit;return t.Njj(a.showModal=!1)}),t.EFF(7,"\xd7"),t.k0s()(),t.j41(8,"div",42)(9,"p")(10,"b"),t.EFF(11,"N\xb0 Subasta:"),t.k0s(),t.EFF(12),t.k0s(),t.j41(13,"p")(14,"b"),t.EFF(15,"Fecha:"),t.k0s(),t.EFF(16),t.nI1(17,"date"),t.k0s(),t.j41(18,"p")(19,"b"),t.EFF(20,"Hora:"),t.k0s(),t.EFF(21),t.k0s(),t.j41(22,"p")(23,"b"),t.EFF(24,"Duraci\xf3n:"),t.k0s(),t.EFF(25),t.k0s(),t.j41(26,"p")(27,"b"),t.EFF(28,"Contacto:"),t.k0s(),t.EFF(29),t.k0s(),t.j41(30,"p")(31,"b"),t.EFF(32,"Ciudad:"),t.k0s(),t.EFF(33),t.k0s(),t.j41(34,"p")(35,"b"),t.EFF(36,"Tel\xe9fono:"),t.k0s(),t.EFF(37),t.k0s(),t.j41(38,"p")(39,"b"),t.EFF(40,"Observaciones:"),t.k0s(),t.EFF(41),t.k0s()()()()}if(2&e){const n=t.XpG().$implicit;t.R7$(5),t.JRh(n.planta),t.R7$(7),t.SpI(" ",n.numeroSubasta||"-",""),t.R7$(4),t.SpI(" ",t.i5U(17,10,n.fechaEvento,"dd/MM/yyyy"),""),t.R7$(5),t.Lme(" ",n.horaInicioAsignada||"-"," - ",n.horaFinAsignada||"-",""),t.R7$(4),t.SpI(" ",n.duracionSubastaMinutos," min"),t.R7$(4),t.SpI(" ",n.username,""),t.R7$(4),t.SpI(" ",n.city,""),t.R7$(4),t.SpI(" ",n.phone,""),t.R7$(4),t.SpI(" ",n.observaciones,"")}}function It(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",18)(1,"label",19),t.bIt("click",function(){const r=t.eBV(n).$implicit,s=t.XpG();return t.Njj(s.zoom(r))}),t.j41(2,"span",20),t.EFF(3),t.k0s(),t.DNE(4,Et,1,1,"img",21),t.DNE(5,jt,2,0,"ng-template",null,22,t.C5r),t.k0s(),t.j41(7,"div",23)(8,"h3",24),t.EFF(9),t.k0s(),t.j41(10,"div",25)(11,"span",26),t.EFF(12),t.k0s(),t.j41(13,"span",27),t.EFF(14,"ACEPTADA"),t.k0s()(),t.j41(15,"p",28),t.EFF(16,"Subastador: "),t.j41(17,"b"),t.EFF(18),t.k0s()()(),t.j41(19,"div",29)(20,"button",30),t.bIt("click",function(){const r=t.eBV(n).$implicit;return t.Njj(r.showModal=!0)}),t.nrm(21,"i",31),t.EFF(22," Ver detalle "),t.k0s(),t.DNE(23,yt,3,0,"button",32),t.k0s(),t.DNE(24,wt,42,13,"div",15),t.k0s()}if(2&e){const n=i.$implicit,o=t.sdS(6),a=t.XpG();t.R7$(3),t.SpI("#",n.numeroSubasta||"-",""),t.R7$(1),t.Y8G("ngIf",a.getImagenSrc(n))("ngIfElse",o),t.R7$(5),t.JRh(n.planta),t.R7$(3),t.SpI("S/ ",n.precioBase,""),t.R7$(6),t.JRh(n.username),t.R7$(5),t.Y8G("ngIf",n.numeroSubasta),t.R7$(1),t.Y8G("ngIf",n.showModal)}}function St(e,i){1&e&&(t.j41(0,"div",17)(1,"p"),t.EFF(2,"No hay subastas aceptadas"),t.k0s()())}function Rt(e,i){if(1&e&&(t.j41(0,"div",45)(1,"span",46),t.EFF(2),t.k0s(),t.j41(3,"span",47),t.EFF(4),t.k0s(),t.j41(5,"span",48),t.EFF(6),t.k0s()()),2&e){const n=i.$implicit,o=i.index;t.R7$(2),t.SpI("#",o+1,""),t.R7$(2),t.JRh(n.username),t.R7$(2),t.SpI("",n.total," subastas")}}function zt(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",37)(1,"div",38),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.mostrarReporte=!1)}),t.k0s(),t.j41(2,"div",39)(3,"div",40)(4,"h3"),t.EFF(5,"Reporte de participaci\xf3n"),t.k0s(),t.j41(6,"button",41),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.mostrarReporte=!1)}),t.EFF(7,"\xd7"),t.k0s()(),t.j41(8,"div",42)(9,"p")(10,"b"),t.EFF(11,"Total subastas:"),t.k0s(),t.EFF(12),t.k0s(),t.j41(13,"div",43),t.DNE(14,Rt,7,3,"div",44),t.k0s()()()()}if(2&e){const n=t.XpG();t.R7$(12),t.SpI(" ",n.subastas.length,""),t.R7$(2),t.Y8G("ngForOf",n.resumenUsuarios)}}function $t(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",49),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.showZoom=!1)}),t.nrm(1,"div",50),t.j41(2,"img",51),t.bIt("click",function(a){return a.stopPropagation()}),t.k0s(),t.j41(3,"button",52),t.EFF(4,"\xd7"),t.k0s()()}if(2&e){const n=t.XpG();t.R7$(2),t.Y8G("src",n.zoomSrc,t.B4B)}}let At=(()=>{class e{constructor(n,o,a){this.adminService=n,this.router=o,this.route=a,this.subastas=[],this.generando=!1,this.cargando=!1,this.showZoom=!1,this.zoomSrc="",this.mostrarReporte=!1,this.resumenUsuarios=[]}ngOnInit(){this.eventoId=Number(this.route.snapshot.paramMap.get("idEvento")),this.cargarSubastasAceptadas()}cargarSubastasAceptadas(){this.cargando=!0,this.adminService.listarSubastasAceptadas().subscribe(n=>{this.subastas=n.filter(o=>o.eventoId===this.eventoId).sort((o,a)=>(o.numeroSubasta??0)-(a.numeroSubasta??0)),this.generarResumenUsuarios(),this.cargando=!1},()=>this.cargando=!1)}generarResumenUsuarios(){const n=new Map;this.subastas.forEach(o=>{const a=o.username||"Sin usuario";n.set(a,(n.get(a)||0)+1)}),this.resumenUsuarios=Array.from(n.entries()).map(([o,a])=>({username:o,total:a})).sort((o,a)=>a.total-o.total)}Generar(){this.generando||this.subastas.length>0&&!window.confirm("Ya se han generado subastas. \xbfEst\xe1s seguro de que quieres generarlas de nuevo?")||(this.generando=!0,this.adminService.organizarSubastas(this.eventoId).subscribe({next:()=>{this.cargarSubastasAceptadas(),this.generando=!1},error:()=>{alert("Debes cerrar el evento antes de generar las subastas."),this.generando=!1}}))}volver(){this.router.navigate(["/components/eventos"])}zoom(n){n.imagen&&(this.zoomSrc=n.imagen,this.showZoom=!0)}copiarSubasta(n){const o=n.fechaEvento??"-",a=P=>{if(!P)return"-";const[z,Vn]=P.split(":").map(Number),Xn=z>=12?"pm":"am";return`${z%12||12}:${Vn.toString().padStart(2,"0")} ${Xn}`},r=a(n.horaInicioAsignada),s=a(n.horaFinAsignada);navigator.clipboard.writeText(`*\u{1f331}\u146d\u144c\u148d\u15e9 \u1455\u15e9\u1587\u144e\xed\u142f\u15dd\u1587\u15e9 N\xb0 ${n.numeroSubasta||"-"}*\n\n\u{1f4c5} Fecha: ${o}\n\n\u23f0 Hora: ${r} \u2013 ${s}\n\n\u23f3 Tiempo: ${n.duracionSubastaMinutos??"-"} minutos\n\n\u{1f464} Subastador:\n${n.username||"-"}\n\n\u{1f4de} Contacto:\n${n.phone||"-"}\n\n\u{1f4cd} Procedencia:\n${n.city||"-"}\n\n\u{1f33f} Planta en subasta:\n${n.planta||"-"}\n\n\u{1fab4} Tama\xf1o de maceta:\n${n.maceta||"-"}\n\n\u{1f4b0} Precio base:\nS/ ${n.precioBase??"-"}\n\n\u{1f4dd} Observaciones:\n${n.observaciones||"-"}\n\n\u{1f30d} Global Carnivora Network \u2013 \u{1d4db}\u{1d4ea} \u{1d4df}\u{1d4fe}\u{1d4f3}\u{1d4ea} \u{1d4d2}\u{1d4ea}\u{1d4fb}\u{1d4f7}\xed\u{1d4ff}\u{1d4f8}\u{1d4fb}\u{1d4ea} \u{1f331}`)}getImagenSrc(n){return n.imagen||null}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(O),t.rXU(g.Ix),t.rXU(g.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-subastas-aceptadas"]],decls:25,vars:8,consts:[[1,"organizar-container"],[1,"organizar-header"],[1,"header-left"],[1,"evento-id"],[1,"header-actions","acciones-header"],[1,"btn-secundario","generar",3,"disabled","click"],[1,"fa-solid","fa-gavel"],[1,"btn-secundario","reporte",3,"click"],[1,"fa-solid","fa-chart-line"],[1,"contador-subastas"],[1,"label"],[1,"valor"],[1,"lista-subastas"],["class","estado-lista",4,"ngIf"],["class","fila-subasta",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],["class","zoom-image",3,"click",4,"ngIf"],[1,"estado-lista"],[1,"fila-subasta"],[1,"img-box",3,"click"],[1,"badge-numero"],[3,"src",4,"ngIf","ngIfElse"],["noImg",""],[1,"info"],[1,"planta"],[1,"precio-row"],[1,"precio"],[1,"estado","estado-aceptado"],[1,"sub"],[1,"acciones"],[1,"btn-detalle","primary",3,"click"],[1,"fa-solid","fa-eye"],["class","btn-whatsapp",3,"click",4,"ngIf"],[3,"src"],[1,"img-empty"],[1,"btn-whatsapp",3,"click"],[1,"fa-brands","fa-whatsapp"],[1,"modal"],[1,"modal-bg",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"reporte-lista"],["class","reporte-item",4,"ngFor","ngForOf"],[1,"reporte-item"],[1,"rank"],[1,"user"],[1,"total"],[1,"zoom-image",3,"click"],[1,"zoom-image-bg"],[3,"src","click"],[1,"zoom-close"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"header",1)(2,"div",2)(3,"h2"),t.EFF(4,"Subastas Aceptadas"),t.k0s(),t.j41(5,"span",3),t.EFF(6,"Listado general"),t.k0s()(),t.j41(7,"div",4)(8,"button",5),t.bIt("click",function(){return a.Generar()}),t.nrm(9,"i",6),t.EFF(10),t.k0s(),t.j41(11,"button",7),t.bIt("click",function(){return a.mostrarReporte=!0}),t.nrm(12,"i",8),t.EFF(13," Ver reporte "),t.k0s()()(),t.j41(14,"div",9)(15,"span",10),t.EFF(16,"N\xfamero de subastas"),t.k0s(),t.j41(17,"span",11),t.EFF(18),t.k0s()(),t.j41(19,"div",12),t.DNE(20,Ot,2,0,"p",13),t.DNE(21,It,25,8,"div",14),t.DNE(22,St,3,0,"div",13),t.k0s(),t.DNE(23,zt,15,2,"div",15),t.DNE(24,$t,5,1,"div",16),t.k0s()),2&o&&(t.R7$(8),t.Y8G("disabled",a.generando),t.R7$(2),t.SpI(" ",a.generando?"Generando...":"Generar subastas"," "),t.R7$(8),t.JRh(a.subastas.length),t.R7$(2),t.Y8G("ngIf",a.cargando),t.R7$(1),t.Y8G("ngForOf",a.subastas),t.R7$(1),t.Y8G("ngIf",!a.cargando&&!a.subastas.length),t.R7$(1),t.Y8G("ngIf",a.mostrarReporte),t.R7$(1),t.Y8G("ngIf",a.showZoom))},dependencies:[d.Sq,d.bT,d.vh],styles:[".organizar-container[_ngcontent-%COMP%]{max-width:1300px;margin:30px auto;font-family:Roboto,Helvetica Neue,sans-serif;padding:0 20px}.organizar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;padding:20px 0;margin-bottom:30px;border-bottom:2px solid var(--color-border);text-align:center}.header-left[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.organizar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:26px;font-weight:700;color:var(--color-title)}.organizar-header[_ngcontent-%COMP%]   .evento-id[_ngcontent-%COMP%]{font-size:15px;color:var(--color-text-muted)}.btn-secundario[_ngcontent-%COMP%]{padding:12px 24px;border-radius:14px;background:var(--color-btn-primary);color:var(--color-btn-text-light);border:none;font-size:15px;font-weight:600;cursor:pointer;box-shadow:0 8px 20px #00000026;transition:.25s;display:flex;align-items:center;justify-content:center;gap:8px}.btn-secundario[_ngcontent-%COMP%]:hover{background:var(--color-btn-primary-light);transform:translateY(-2px)}.reporte[_ngcontent-%COMP%]{background:var(--color-secondary);color:#fff}.contador-subastas[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:10px;padding:10px 16px;border-radius:14px;background:var(--color-bg-alt);border:1px solid var(--color-border);font-weight:600;margin:-20px 0 24px auto;box-shadow:0 4px 12px #00000014}.contador-subastas[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;color:var(--color-text-muted)}.contador-subastas[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]{font-size:18px;color:var(--color-primary)}.lista-subastas[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.fila-subasta[_ngcontent-%COMP%]{display:grid;grid-template-columns:220px 1fr 200px;gap:20px;background:var(--color-bg);padding:22px;border-radius:20px;border:1px solid var(--color-border);align-items:center;transition:.3s}.fila-subasta[_ngcontent-%COMP%]:hover{box-shadow:0 6px 18px #00000014}.img-box[_ngcontent-%COMP%]{width:100%;height:160px;border-radius:16px;overflow:hidden;cursor:pointer;border:1px solid var(--color-border);position:relative;display:flex;align-items:center;justify-content:center;background:var(--color-bg-alt)}.img-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.img-empty[_ngcontent-%COMP%]{font-size:13px;color:var(--color-text-muted)}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:6px}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:19px;font-weight:600;color:var(--color-title)}.precio-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.precio[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--color-primary)}.sub[_ngcontent-%COMP%]{font-size:13px;color:var(--color-text-muted)}.estado[_ngcontent-%COMP%]{font-weight:600;padding:5px 12px;border-radius:999px;font-size:12px;text-transform:uppercase}.estado-aceptado[_ngcontent-%COMP%]{background:var(--color-estado-aceptado);color:var(--color-secondary)}.acciones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;align-items:flex-start}.btn-detalle.primary[_ngcontent-%COMP%], .btn-whatsapp[_ngcontent-%COMP%]{flex:1 1 auto;width:100%;box-sizing:border-box}.btn-detalle.primary[_ngcontent-%COMP%]{background:var(--color-btn-primary);color:var(--color-btn-text-light);border:none;padding:10px 20px;border-radius:999px;font-size:14px;font-weight:600;cursor:pointer;transition:.25s}.btn-detalle.primary[_ngcontent-%COMP%]:hover{background:var(--color-btn-primary-light);transform:translateY(-2px)}.btn-whatsapp[_ngcontent-%COMP%]{background:var(--color-bg);color:var(--color-btn-primary);border:3px solid var(--color-btn-primary);padding:10px 18px;border-radius:999px;font-size:14px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:6px;transition:.25s}.btn-whatsapp[_ngcontent-%COMP%]:hover{background:var(--color-btn-primary-light);color:var(--color-bg);border:3px solid var(--color-btn-primary-light)}.badge-numero[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;background:var(--color-bg);border:1px solid var(--color-border);padding:5px 12px;border-radius:999px;font-size:12px;font-weight:600;z-index:2}.estado-lista[_ngcontent-%COMP%]{margin:40px 0;padding:28px 20px;border-radius:18px;border:2px dashed var(--color-primary);background:var(--color-bg-alt);text-align:center;animation:_ngcontent-%COMP%_fadeIn .3s ease}.estado-lista[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:600;color:var(--color-text-muted)}.reporte-lista[_ngcontent-%COMP%]{margin-top:16px;display:flex;flex-direction:column;gap:10px}.reporte-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 14px;border-radius:12px;background:var(--color-bg-alt);border:1px solid var(--color-border)}.rank[_ngcontent-%COMP%]{font-weight:700;color:var(--color-primary);width:40px}.user[_ngcontent-%COMP%]{flex:1;font-weight:600}.total[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text-muted)}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:2000;animation:_ngcontent-%COMP%_fadeIn .25s ease}.modal-bg[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.55);z-index:1;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{background:var(--color-bg);border-radius:16px;max-width:540px;width:95%;max-height:90vh;overflow-y:auto;z-index:2;position:relative;padding:24px;box-shadow:0 8px 24px #0000002e}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.modal-close[_ngcontent-%COMP%]{background:transparent;border:none;font-size:24px;font-weight:600;cursor:pointer}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:15px;line-height:1.5;color:var(--color-text)}.zoom-image[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:3000;cursor:zoom-out}.zoom-image-bg[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.7);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:1}.zoom-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90vw;max-height:90vh;border-radius:12px;z-index:2;animation:_ngcontent-%COMP%_zoomIn .2s ease-out;cursor:default}.zoom-close[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;z-index:3;font-size:28px;color:#fff;background:rgba(0,0,0,.35);border:none;border-radius:50%;width:40px;height:40px;line-height:36px;text-align:center;cursor:pointer}.zoom-close[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.8);transform:scale(1.1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}@media (max-width: 1200px){.fila-subasta[_ngcontent-%COMP%]{grid-template-columns:180px 1fr 180px;gap:18px;padding:20px}.img-box[_ngcontent-%COMP%]{height:150px}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.precio[_ngcontent-%COMP%]{font-size:17px}}@media (max-width: 992px){.organizar-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:14px}.header-actions[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;gap:10px}.btn-secundario[_ngcontent-%COMP%]{flex:1;padding:10px 14px;font-size:13px;border-radius:12px}.contador-subastas[_ngcontent-%COMP%]{margin:0 0 18px}.fila-subasta[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px;padding:18px}.acciones[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.btn-detalle.primary[_ngcontent-%COMP%], .btn-whatsapp[_ngcontent-%COMP%]{width:100%;flex:unset}.modal-content[_ngcontent-%COMP%]{width:95%;margin:0 12px}.img-box[_ngcontent-%COMP%]{height:180px}}@media (max-width: 768px){.organizar-header[_ngcontent-%COMP%]{align-items:center;text-align:center}.btn-secundario[_ngcontent-%COMP%]{padding:8px 12px;font-size:12px;border-radius:10px}.header-actions[_ngcontent-%COMP%]{gap:8px}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.precio[_ngcontent-%COMP%]{font-size:15px}.estado[_ngcontent-%COMP%]{font-size:11px;padding:4px 8px}.img-box[_ngcontent-%COMP%]{height:160px}}@media (max-width: 520px){.organizar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.btn-secundario[_ngcontent-%COMP%]{padding:7px 10px;font-size:11px;border-radius:8px}.header-actions[_ngcontent-%COMP%]{gap:6px}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.precio[_ngcontent-%COMP%]{font-size:13px}.estado[_ngcontent-%COMP%], .badge-numero[_ngcontent-%COMP%]{font-size:10px;padding:3px 6px}.img-box[_ngcontent-%COMP%]{height:140px}}"]})}}return e})();class Dt{constructor(){this.id=0,this.username="",this.password="",this.roles=[],this.name="",this.lastName="",this.phone="",this.city="",this.email="",this.enabled=!0}}const Tt=b.c.base;let M=(()=>{class e{constructor(n){this.http=n,this.url=`${Tt}/mydata`,this.userChange=new f.B}getMyData(){let n=sessionStorage.getItem("token");return this.http.get(this.url,{headers:(new p.Lr).set("Authorization",`Bearer ${n}`).set("Content-Type","application/json")}).pipe((0,v.W)(this.handleError))}setUserChange(n){this.userChange.next(n)}getUserChange(){return this.userChange.asObservable()}handleError(n){let o="Ocurri\xf3 un error desconocido";return 401===n.status?o="No autorizado":404===n.status&&(o="Usuario no encontrado"),(0,x.$)(()=>o)}static{this.\u0275fac=function(o){return new(o||e)(t.KVO(p.Qq))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Nt(e,i){if(1&e&&(t.j41(0,"div",10),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2);t.R7$(1),t.JRh(n.error)}}function Gt(e,i){if(1&e&&(t.j41(0,"span",17),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.R7$(1),t.SpI(" ",n," ")}}function Bt(e,i){if(1&e&&(t.j41(0,"div",11)(1,"div",12)(2,"div",13),t.EFF(3,"Tel\xe9fono"),t.k0s(),t.j41(4,"div",14),t.EFF(5),t.k0s()(),t.j41(6,"div",12)(7,"div",13),t.EFF(8,"Ciudad"),t.k0s(),t.j41(9,"div",14),t.EFF(10),t.k0s()(),t.j41(11,"div",15)(12,"div",13),t.EFF(13,"Roles"),t.k0s(),t.j41(14,"div",14),t.DNE(15,Gt,2,1,"span",16),t.k0s()()()),2&e){const n=t.XpG(2);t.R7$(5),t.JRh(n.user.phone),t.R7$(5),t.JRh(n.user.city),t.R7$(5),t.Y8G("ngForOf",n.user.roles)}}function Lt(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.EFF(3),t.k0s(),t.j41(4,"div",5)(5,"h2"),t.EFF(6),t.k0s(),t.j41(7,"p",6),t.EFF(8),t.k0s()(),t.j41(9,"button",7),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.logout())}),t.EFF(10),t.k0s()(),t.DNE(11,Nt,2,1,"div",8),t.DNE(12,Bt,16,3,"div",9),t.k0s()}if(2&e){const n=t.XpG();t.R7$(3),t.Lme(" ",n.user.name.charAt(0),"",n.user.lastName.charAt(0)," "),t.R7$(3),t.Lme("",n.user.name," ",n.user.lastName,""),t.R7$(2),t.JRh(n.user.username),t.R7$(1),t.Y8G("disabled",n.closing),t.R7$(1),t.SpI(" ",n.closing?"Cerrando sesi\xf3n\u2026":"Cerrar sesi\xf3n"," "),t.R7$(1),t.Y8G("ngIf",n.error),t.R7$(1),t.Y8G("ngIf",!n.error)}}function Vt(e,i){1&e&&(t.j41(0,"p",18),t.EFF(1,"Cargando informaci\xf3n..."),t.k0s())}let Xt=(()=>{class e{constructor(n,o){this.mydataService=n,this.router=o,this.user=new Dt,this.loading=!0,this.error="",this.closing=!1}ngOnInit(){this.loadUserData()}loadUserData(){this.loading=!0,this.mydataService.getMyData().subscribe({next:n=>{this.user=n,this.loading=!1},error:n=>{this.error=n,this.loading=!1}})}logout(){confirm("\xbfSeguro que deseas cerrar sesi\xf3n?")&&(this.closing=!0,sessionStorage.clear(),localStorage.clear(),setTimeout(()=>{this.router.navigate(["/login"])},600))}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(M),t.rXU(g.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-my-data"]],decls:3,vars:2,consts:[["class","dashboard-panel",4,"ngIf","ngIfElse"],["loadingTpl",""],[1,"dashboard-panel"],[1,"profile-top"],[1,"avatar"],[1,"profile-info"],[1,"username"],[1,"btn-logout",3,"disabled","click"],["class","error",4,"ngIf"],["class","profile-content",4,"ngIf"],[1,"error"],[1,"profile-content"],[1,"content-row"],[1,"content-label"],[1,"content-value"],[1,"content-row","roles-row"],["class","role-pill",4,"ngFor","ngForOf"],[1,"role-pill"],[1,"loading"]],template:function(o,a){if(1&o&&(t.DNE(0,Lt,13,9,"div",0),t.DNE(1,Vt,2,0,"ng-template",null,1,t.C5r)),2&o){const r=t.sdS(2);t.Y8G("ngIf",!a.loading)("ngIfElse",r)}},dependencies:[d.Sq,d.bT],styles:['.dashboard-panel[_ngcontent-%COMP%]{max-width:980px;margin:24px auto;padding:24px;font-family:Inter,Segoe UI,sans-serif;color:var(--color-text)}.profile-top[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:auto 1fr auto;gap:22px;align-items:center;padding:28px;border-radius:26px;background:linear-gradient(135deg,var(--color-bg),var(--color-bg-alt));box-shadow:0 14px 32px #0000001f;margin-bottom:28px;overflow:hidden}.profile-top[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:auto -40% -60% auto;width:240px;height:240px;background:radial-gradient(circle,var(--color-btn-primary),transparent 70%);opacity:.18}.avatar[_ngcontent-%COMP%]{width:84px;height:84px;border-radius:50%;background:linear-gradient(135deg,var(--color-btn-primary),var(--color-btn-primary-light));color:#fff;font-size:32px;font-weight:800;display:flex;align-items:center;justify-content:center;letter-spacing:1px;box-shadow:0 10px 20px #00000040}.profile-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:var(--color-title)}.profile-info[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{margin-top:4px;font-size:14px;color:var(--color-text-muted)}.btn-logout[_ngcontent-%COMP%]{align-self:flex-start;background:#fee2e2;color:var(--color-estado-rechazado);border:none;padding:12px 18px;border-radius:14px;font-weight:700;cursor:pointer;box-shadow:0 6px 14px #00000026}.btn-logout[_ngcontent-%COMP%]:hover{background:#fecaca}.profile-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:18px}.content-row[_ngcontent-%COMP%]{background:var(--color-bg);border-radius:20px;padding:18px 20px;display:flex;flex-direction:column;gap:6px;box-shadow:0 8px 18px #0000000f;position:relative}.content-row[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:6px;height:100%;border-radius:20px 0 0 20px;background:var(--color-btn-primary);opacity:.35}.content-label[_ngcontent-%COMP%]{font-size:12px;font-weight:700;letter-spacing:.5px;text-transform:uppercase;color:var(--color-text-muted)}.content-value[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--color-text)}.roles-row[_ngcontent-%COMP%]{grid-column:1 / -1}.roles-row[_ngcontent-%COMP%]   .content-value[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-top:6px}.role-pill[_ngcontent-%COMP%]{padding:8px 14px;border-radius:999px;background:linear-gradient(135deg,var(--color-btn-secondary),var(--color-bg-alt));font-size:12px;font-weight:700;color:var(--color-primary);box-shadow:0 4px 10px #0000001f}.error[_ngcontent-%COMP%]{margin:20px 0;padding:18px;border-radius:18px;background:#fee2e2;color:var(--color-estado-rechazado);font-weight:700;text-align:center;box-shadow:0 6px 14px #00000026}.loading[_ngcontent-%COMP%]{margin:48px 0;text-align:center;font-size:16px;font-weight:700;color:var(--color-text-muted)}@media (max-width:820px){.profile-top[_ngcontent-%COMP%]{grid-template-columns:1fr;text-align:center}.avatar[_ngcontent-%COMP%]{margin:0 auto}.btn-logout[_ngcontent-%COMP%]{width:100%}.profile-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})}}return e})();function Yt(e,i){if(1&e&&(t.j41(0,"p",16),t.EFF(1),t.k0s()),2&e){const n=t.XpG();t.R7$(1),t.SpI(" ","ABIERTO"===n.eventoActivo.estado?"Evento disponible":"Evento cerrado"," ")}}function Ut(e,i){if(1&e){const n=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.goOrganizarEvento())}),t.EFF(1,"Administrar eventos"),t.k0s()}}function Ht(e,i){if(1&e&&(t.j41(0,"div",18)(1,"span"),t.EFF(2,"Evento"),t.k0s(),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.j41(5,"small"),t.EFF(6),t.nI1(7,"date"),t.k0s()()),2&e){const n=t.XpG();t.R7$(4),t.JRh(n.eventoActivo.nombre),t.R7$(2),t.Lme("",t.i5U(7,3,n.eventoActivo.fechaEvento,"dd/MM/yyyy")," - ",n.eventoActivo.horaInicio,"")}}function qt(e,i){if(1&e&&(t.j41(0,"div",19)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.j41(5,"small"),t.EFF(6),t.k0s()()),2&e){const n=t.XpG();t.R7$(2),t.JRh(n.tituloTiempo),t.R7$(2),t.JRh(n.tiempoRestante),t.R7$(2),t.SpI("Duraci\xf3n por subasta: ",n.eventoActivo.duracionSubastaMinutos," minutos")}}function Jt(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",20)(1,"strong"),t.EFF(2,"Subastas revisadas"),t.k0s(),t.j41(3,"p"),t.EFF(4,"Todas tus subastas ya fueron evaluadas."),t.k0s(),t.j41(5,"button",21),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.go("/components/ver-subastas"))}),t.EFF(6,"Ver mis subastas"),t.k0s()()}}let Zt=(()=>{class e{constructor(n,o,a,r){this.mydata=n,this.eventoService=o,this.subastaService=a,this.router=r,this.showMenu=!1,this.subastas=[],this.totalSubastas=0,this.subastasPendientes=0,this.subastasAceptadas=0,this.subastasRechazadas=0,this.eventoActivo=null,this.tiempoRestante="",this.tituloTiempo=""}ngOnInit(){this.mydata.getMyData().subscribe(n=>this.user=n),this.eventoService.list().subscribe(n=>{if(this.eventoActivo=n.find(a=>"ABIERTO"===a.estado)||null,!this.eventoActivo)return;const o=this.buildFechaHora(this.eventoActivo.fechaEvento,this.eventoActivo.horaInicio);this.iniciarContador(o),this.cargarSubastas(this.eventoActivo.id)})}ngOnDestroy(){this.timer&&clearInterval(this.timer)}go(n){this.router.navigate([n])}cargarSubastas(n){this.subastaService.listMisSubastas().subscribe(o=>{const a=o.filter(r=>r.eventoId===n);this.subastas=a,this.subastasPendientes=a.filter(r=>"PENDIENTE"===r.estado).length,this.subastasAceptadas=a.filter(r=>"ACEPTADA"===r.estado).length,this.subastasRechazadas=a.filter(r=>"RECHAZADA"===r.estado).length})}buildFechaHora(n,o){const[a,r,s]=n.toString().split("-").map(Number),[_,P]=o.split(":").map(Number);return new Date(a,r-1,s,_,P,0)}iniciarContador(n){const o=()=>{if("CERRADO"===this.eventoActivo?.estado)return this.tituloTiempo="Estado del evento",this.tiempoRestante="Evento cerrado",void clearInterval(this.timer);const a=n.getTime()-Date.now();if(a<=0)return this.tituloTiempo="Estado del evento",this.tiempoRestante="Evento en curso",void clearInterval(this.timer);this.tituloTiempo="Inicio del evento en";const r=Math.floor(a/36e5),s=Math.floor(a%36e5/6e4),_=Math.floor(a%6e4/1e3);this.tiempoRestante=`${r}h ${s}m ${_}s`};o(),this.timer=setInterval(o,1e3)}isAdmin(){return this.user?.roles?.includes("ADMIN")}goOrganizarEvento(){this.router.navigate(["/components/eventos"])}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(M),t.rXU(h),t.rXU(C),t.rXU(g.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-dashboard"]],decls:36,vars:9,consts:[[1,"dashboard"],[1,"dashboard-header"],[1,"header-content"],[1,"page-title"],["class","subtitle",4,"ngIf"],[1,"header-actions"],[1,"btn-primary",3,"click"],["class","btn-evento",3,"click",4,"ngIf"],[1,"grid"],["class","block wide info",4,"ngIf"],["class","block wide timer",4,"ngIf"],[1,"block"],[1,"block","success"],[1,"block","warning"],[1,"block","danger"],["class","block wide action",4,"ngIf"],[1,"subtitle"],[1,"btn-evento",3,"click"],[1,"block","wide","info"],[1,"block","wide","timer"],[1,"block","wide","action"],[1,"btn-secondary",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t.EFF(4,"Panel de Control"),t.k0s(),t.DNE(5,Yt,2,1,"p",4),t.k0s(),t.j41(6,"div",5)(7,"button",6),t.bIt("click",function(){return a.go("/components/ver-subastas")}),t.EFF(8,"Mis subastas"),t.k0s(),t.DNE(9,Ut,2,0,"button",7),t.k0s()(),t.j41(10,"div",8),t.DNE(11,Ht,8,6,"div",9),t.DNE(12,qt,7,3,"div",10),t.j41(13,"div",11)(14,"span"),t.EFF(15,"Total enviadas"),t.k0s(),t.j41(16,"strong"),t.EFF(17),t.k0s(),t.j41(18,"small"),t.EFF(19,"Esta semana"),t.k0s()(),t.j41(20,"div",12)(21,"span"),t.EFF(22,"Aceptadas"),t.k0s(),t.j41(23,"strong"),t.EFF(24),t.k0s()(),t.j41(25,"div",13)(26,"span"),t.EFF(27,"Pendientes"),t.k0s(),t.j41(28,"strong"),t.EFF(29),t.k0s()(),t.j41(30,"div",14)(31,"span"),t.EFF(32,"Rechazadas"),t.k0s(),t.j41(33,"strong"),t.EFF(34),t.k0s()(),t.DNE(35,Jt,7,0,"div",15),t.k0s()()),2&o&&(t.R7$(5),t.Y8G("ngIf",a.eventoActivo),t.R7$(4),t.Y8G("ngIf",a.isAdmin()),t.R7$(2),t.Y8G("ngIf",a.eventoActivo),t.R7$(1),t.Y8G("ngIf",a.eventoActivo),t.R7$(5),t.JRh(a.subastas.length),t.R7$(7),t.JRh(a.subastasAceptadas),t.R7$(5),t.JRh(a.subastasPendientes),t.R7$(5),t.JRh(a.subastasRechazadas),t.R7$(1),t.Y8G("ngIf",0===a.subastasPendientes&&a.subastas.length>0))},dependencies:[d.bT,d.vh],styles:[".dashboard[_ngcontent-%COMP%]{max-width:1280px;margin:auto;padding:10px 0}.dashboard-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:32px;gap:8px}.page-title[_ngcontent-%COMP%], .subtitle[_ngcontent-%COMP%]{text-align:center}.page-title[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:700;color:var(--color-title)}.subtitle[_ngcontent-%COMP%]{margin:4px 0 0;font-size:14px;color:var(--color-subtitle)}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:20px}.block[_ngcontent-%COMP%]{background:var(--color-bg);border:1px solid var(--color-border);border-radius:18px;padding:24px;display:flex;flex-direction:column;gap:6px;transition:transform .2s}.block[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:var(--color-subtitle);text-transform:uppercase;letter-spacing:.5px}.block[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:var(--color-title)}.block[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:13px;color:var(--color-subtitle)}.block.wide[_ngcontent-%COMP%]{grid-column:span 2}.block.success[_ngcontent-%COMP%]{background:#f0fdf4;border-color:#bbf7d0}.block.warning[_ngcontent-%COMP%]{background:#fffbeb;border-color:#fef3c7}.block.danger[_ngcontent-%COMP%]{background:#fef2f2;border-color:#fecaca}.block.timer[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-bg),#f0fdfa)}.btn-primary[_ngcontent-%COMP%]{background:var(--color-primary);color:#fff;border:none;padding:12px 20px;border-radius:12px;font-weight:600;cursor:pointer}.btn-secondary[_ngcontent-%COMP%]{background:white;color:var(--color-text);border:1px solid var(--color-border);padding:12px 20px;border-radius:12px;font-weight:600;cursor:pointer}.btn-evento[_ngcontent-%COMP%]{background:transparent;color:var(--color-primary);border:2px solid var(--color-primary);padding:10px 20px;border-radius:12px;font-weight:600;cursor:pointer}@media (max-width: 900px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}@media (max-width: 520px){.header-actions[_ngcontent-%COMP%]{width:100%;flex-direction:column}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})}}return e})();var m=u(3873);let Qt=(()=>{class e{constructor(n){this.router=n}volverHome(){this.router.navigate(["/"])}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(g.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-sin-acceso"]],decls:7,vars:0,consts:[[1,"sin-acceso-container"],[3,"click"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"h1"),t.EFF(2,"\u{1f615} Parece que te perdiste"),t.k0s(),t.j41(3,"p"),t.EFF(4,"No tienes permisos para acceder a esta p\xe1gina."),t.k0s(),t.j41(5,"button",1),t.bIt("click",function(){return a.volverHome()}),t.EFF(6,"Volver al inicio"),t.k0s()())},styles:[".sin-acceso-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:80vh;text-align:center;padding:20px;color:var(--color-title)}.sin-acceso-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.sin-acceso-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:25px;color:var(--color-subtitle)}.sin-acceso-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--color-primary);color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:700;transition:.2s}.sin-acceso-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#00008b}"]})}}return e})();var Kt=u(7912);const Wt=b.c.base;let I=(()=>{class e{constructor(n){this.http=n,this.url=Wt}getHeaders(){const n=sessionStorage.getItem("token");return(new p.Lr).set("Authorization",`Bearer ${n}`).set("Content-Type","application/json")}solicitarSubastador(){return this.http.post(`${this.url}/users/request-subastador`,{},{headers:this.getHeaders()})}listarPendientes(){return this.http.get(`${this.url}/users/admin/subastadores-pendientes`,{headers:this.getHeaders()})}aprobar(n){return this.http.post(`${this.url}/users/admin/approve/${n}`,{},{headers:this.getHeaders()})}rechazar(n){return this.http.post(`${this.url}/users/admin/reject/${n}`,{},{headers:this.getHeaders()})}static{this.\u0275fac=function(o){return new(o||e)(t.KVO(p.Qq))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tn(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",4)(1,"div",5),t.EFF(2,"\u{1f389}"),t.k0s(),t.j41(3,"h2"),t.EFF(4,"\xa1Felicidades!"),t.k0s(),t.j41(5,"p"),t.EFF(6," Fuiste aceptado como uno de los subastadores de la comunidad. "),t.k0s(),t.j41(7,"p",6),t.EFF(8," Para desbloquear tus herramientas, vuelve a iniciar sesi\xf3n. "),t.k0s(),t.j41(9,"button",7),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.logout())}),t.EFF(10),t.k0s()()}if(2&e){const n=t.XpG();t.R7$(9),t.Y8G("disabled",n.closing),t.R7$(1),t.SpI(" ",n.closing?"Cerrando sesi\xf3n\u2026":"Cerrar sesi\xf3n"," ")}}function nn(e,i){1&e&&(t.j41(0,"div",14),t.EFF(1," Estamos revisando tu solicitud, gracias por tu paciencia. "),t.k0s())}function en(e,i){if(1&e){const n=t.RV6();t.j41(0,"label",15)(1,"input",16),t.bIt("ngModelChange",function(a){t.eBV(n);const r=t.XpG(2);return t.Njj(r.accepted=a)}),t.k0s(),t.j41(2,"span"),t.EFF(3,"Acepto los t\xe9rminos y condiciones de la comunidad"),t.k0s()()}if(2&e){const n=t.XpG(2);t.R7$(1),t.Y8G("ngModel",n.accepted)}}function on(e,i){if(1&e&&(t.j41(0,"p",17),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2);t.R7$(1),t.SpI(" ",n.message," ")}}function an(e,i){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"h2"),t.EFF(2,"Solicitud para ser subastador"),t.k0s(),t.j41(3,"p",8),t.EFF(4," Antes de continuar, lee atentamente los siguientes requisitos. "),t.k0s(),t.j41(5,"ul",9)(6,"li"),t.EFF(7,"Todos tus datos deben ser reales y verificables."),t.k0s(),t.j41(8,"li"),t.EFF(9,"La solicitud ser\xe1 revisada manualmente por los administradores."),t.k0s(),t.j41(10,"li"),t.EFF(11,"Podr\xedan contactarte para una entrevista o validaci\xf3n adicional."),t.k0s(),t.j41(12,"li"),t.EFF(13,"Al enviar la solicitud aceptas los t\xe9rminos y normas de la comunidad."),t.k0s()(),t.DNE(14,nn,2,0,"div",10),t.nrm(15,"br"),t.DNE(16,en,4,1,"label",11),t.j41(17,"button",12),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.solicitar())}),t.EFF(18),t.k0s(),t.DNE(19,on,2,1,"p",13),t.bVm()}if(2&e){const n=t.XpG();t.R7$(14),t.Y8G("ngIf",n.tieneSolicitudPendiente),t.R7$(2),t.Y8G("ngIf",!n.tieneSolicitudPendiente),t.R7$(1),t.Y8G("disabled",n.loading||!n.accepted||n.tieneSolicitudPendiente),t.R7$(1),t.SpI(" ",n.loading?"Enviando solicitud...":"Enviar solicitud"," "),t.R7$(1),t.Y8G("ngIf",n.message&&!n.tieneSolicitudPendiente)}}let rn=(()=>{class e{constructor(n,o,a){this.solicitudService=n,this.http=o,this.router=a,this.loading=!1,this.message="",this.accepted=!1,this.tieneSolicitudPendiente=!1,this.esSubastador=!1,this.closing=!1,this.baseUrl=b.c.base}ngOnInit(){this.cargarEstadoSolicitud()}getHeaders(){const n=sessionStorage.getItem("token");return(new p.Lr).set("Authorization",`Bearer ${n}`)}cargarEstadoSolicitud(){this.http.get(`${this.baseUrl}/users/details`,{headers:this.getHeaders()}).subscribe({next:n=>{const o=n.roles||[];this.tieneSolicitudPendiente=o.includes("SUBASTADOR_PENDIENTE"),this.esSubastador=o.includes("SUBASTADOR")}})}solicitar(){!this.accepted||this.tieneSolicitudPendiente||(this.loading=!0,this.message="",this.solicitudService.solicitarSubastador().subscribe({next:()=>{this.loading=!1,this.tieneSolicitudPendiente=!0,this.message="Tu solicitud fue enviada correctamente."},error:n=>{this.loading=!1,this.message=n.error?.message||"No se pudo enviar la solicitud"}}))}logout(){confirm("\xbfSeguro que deseas cerrar sesi\xf3n?")&&(this.closing=!0,sessionStorage.clear(),localStorage.clear(),setTimeout(()=>{this.router.navigate(["/login"])},600))}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(I),t.rXU(p.Qq),t.rXU(g.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-solicitud"]],decls:4,vars:2,consts:[[1,"solicitud-container"],[1,"card"],["class","success-box",4,"ngIf"],[4,"ngIf"],[1,"success-box"],[1,"icon"],[1,"hint"],[1,"btn-logout",3,"disabled","click"],[1,"subtitle"],[1,"rules"],["class","message info",4,"ngIf"],["class","check",4,"ngIf"],[3,"disabled","click"],["class","message",4,"ngIf"],[1,"message","info"],[1,"check"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"message"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,tn,11,2,"div",2),t.DNE(3,an,20,5,"ng-container",3),t.k0s()()),2&o&&(t.R7$(2),t.Y8G("ngIf",a.esSubastador),t.R7$(1),t.Y8G("ngIf",!a.esSubastador))},dependencies:[d.bT,l.Zm,l.BC,l.vS],styles:["h2[_ngcontent-%COMP%]{margin-bottom:8px;font-size:1.6rem;color:var(--color-title)}.subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--color-subtitle);margin-bottom:20px}.solicitud-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--color-bg-alt);padding:16px}.card[_ngcontent-%COMP%]{background:var(--color-bg);border:1px solid var(--color-border);border-radius:14px;padding:32px;max-width:520px;width:100%}h2[_ngcontent-%COMP%]{margin-bottom:8px;font-size:1.6rem;color:var(--color-title);text-align:center}.subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--color-subtitle);margin-bottom:20px;text-align:center}.rules[_ngcontent-%COMP%]{padding-left:18px;margin-bottom:20px}.rules[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:10px;color:var(--color-text)}.check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:.9rem;margin-bottom:20px;color:var(--color-text)}.check[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:16px;height:16px}button[_ngcontent-%COMP%]{width:100%;padding:14px;border-radius:10px;border:none;background:var(--color-btn-primary);color:var(--color-btn-text-light);font-size:1rem;font-weight:500;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background:var(--color-muted);cursor:not-allowed}button[_ngcontent-%COMP%]:not(:disabled):hover{background:var(--color-btn-primary-light)}.message[_ngcontent-%COMP%]{margin-top:16px;font-size:.9rem;text-align:center;color:var(--color-primary)}.message.info[_ngcontent-%COMP%]{background:var(--color-bg-alt);border:1px solid var(--color-border);padding:12px;border-radius:8px}.success-box[_ngcontent-%COMP%]{text-align:center;padding:20px;border-radius:12px}.success-box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:12px}.success-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--color-primary)}.success-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:var(--color-text)}.success-box[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{margin-top:8px;font-size:.85rem;color:var(--color-text-muted)}.btn-logout[_ngcontent-%COMP%]{margin-top:24px;width:100%;padding:14px;border-radius:10px;border:none;background:var(--color-primary);color:var(--color-btn-text-light);font-size:1rem;cursor:pointer}.btn-logout[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.9}.btn-logout[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}"]})}}return e})();function sn(e,i){1&e&&(t.j41(0,"p",4),t.EFF(1,"Cargando..."),t.k0s())}function cn(e,i){1&e&&(t.j41(0,"p",5),t.EFF(1," No hay solicitudes pendientes "),t.k0s())}function ln(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",8)(1,"div",9)(2,"h3"),t.EFF(3),t.k0s()(),t.j41(4,"div",10)(5,"span")(6,"strong"),t.EFF(7,"Email:"),t.k0s(),t.EFF(8),t.k0s(),t.j41(9,"span")(10,"strong"),t.EFF(11,"Nombre:"),t.k0s(),t.EFF(12),t.k0s(),t.j41(13,"span")(14,"strong"),t.EFF(15,"Apellido:"),t.k0s(),t.EFF(16),t.k0s(),t.j41(17,"span")(18,"strong"),t.EFF(19,"Tel\xe9fono:"),t.k0s(),t.EFF(20),t.k0s(),t.j41(21,"span")(22,"strong"),t.EFF(23,"Ciudad:"),t.k0s(),t.EFF(24),t.k0s()(),t.j41(25,"div",11)(26,"button",12),t.bIt("click",function(){const r=t.eBV(n).$implicit,s=t.XpG(2);return t.Njj(s.aprobar(r.id))}),t.EFF(27,"Aprobar"),t.k0s(),t.j41(28,"button",13),t.bIt("click",function(){const r=t.eBV(n).$implicit,s=t.XpG(2);return t.Njj(s.rechazar(r.id))}),t.EFF(29,"Rechazar"),t.k0s()()()}if(2&e){const n=i.$implicit;t.R7$(3),t.Lme("",n.name," ",n.lastName,""),t.R7$(5),t.SpI(" ",n.username,""),t.R7$(4),t.SpI(" ",n.name,""),t.R7$(4),t.SpI(" ",n.lastName,""),t.R7$(4),t.SpI(" ",n.phone,""),t.R7$(4),t.SpI(" ",n.city,"")}}function dn(e,i){if(1&e&&(t.j41(0,"div",6),t.DNE(1,ln,30,7,"div",7),t.k0s()),2&e){const n=t.XpG();t.R7$(1),t.Y8G("ngForOf",n.pendientes)}}let pn=(()=>{class e{constructor(n){this.solicitudService=n,this.pendientes=[],this.loading=!1,this.message=""}ngOnInit(){this.cargarPendientes()}cargarPendientes(){this.loading=!0,this.solicitudService.listarPendientes().subscribe({next:n=>{this.pendientes=n,this.loading=!1},error:()=>{this.loading=!1,this.message="Error al cargar solicitudes"}})}aprobar(n){this.solicitudService.aprobar(n).subscribe(()=>{this.cargarPendientes()})}rechazar(n){this.solicitudService.rechazar(n).subscribe(()=>{this.cargarPendientes()})}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(I))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-revision"]],decls:6,vars:3,consts:[[1,"revision-container"],["class","loading",4,"ngIf"],["class","no-data",4,"ngIf"],["class","users-list",4,"ngIf"],[1,"loading"],[1,"no-data"],[1,"users-list"],["class","user-item",4,"ngFor","ngForOf"],[1,"user-item"],[1,"user-main"],[1,"user-info"],[1,"user-actions"],[1,"approve",3,"click"],[1,"reject",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"h2"),t.EFF(2,"Solicitudes de subastador"),t.k0s(),t.DNE(3,sn,2,0,"p",1),t.DNE(4,cn,2,0,"p",2),t.DNE(5,dn,2,1,"div",3),t.k0s()),2&o&&(t.R7$(3),t.Y8G("ngIf",a.loading),t.R7$(1),t.Y8G("ngIf",!a.loading&&0===a.pendientes.length),t.R7$(1),t.Y8G("ngIf",a.pendientes.length>0))},dependencies:[d.Sq,d.bT],styles:[".revision-container[_ngcontent-%COMP%]{max-width:1100px;margin:20px auto;padding:20px;font-family:Inter,Segoe UI,sans-serif;color:var(--color-text)}.revision-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;font-size:22px;font-weight:600;color:var(--color-title);text-align:center}.loading[_ngcontent-%COMP%], .no-data[_ngcontent-%COMP%]{margin:30px 0;padding:24px;text-align:center;border-radius:16px;background:var(--color-bg);border:1px dashed var(--color-border);font-weight:600;color:var(--color-text-muted)}.users-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.user-item[_ngcontent-%COMP%]{background:var(--color-bg);border-radius:18px;padding:18px;display:grid;grid-template-columns:1fr 2fr auto;gap:16px;align-items:center;border:1px solid var(--color-border);box-shadow:0 6px 14px #0000000f}.user-main[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:17px;font-weight:600;color:var(--color-title)}.user-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:6px 14px;font-size:13px;color:var(--color-text-muted)}.user-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--color-text)}.user-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 16px;border-radius:12px;border:none;font-size:13px;font-weight:600;cursor:pointer;min-width:96px}.user-actions[_ngcontent-%COMP%]   .approve[_ngcontent-%COMP%]{background:var(--color-btn-primary);color:var(--color-btn-text-light)}.user-actions[_ngcontent-%COMP%]   .approve[_ngcontent-%COMP%]:hover{background:var(--color-btn-primary-light)}.user-actions[_ngcontent-%COMP%]   .reject[_ngcontent-%COMP%]{background:#fee2e2;color:var(--color-estado-rechazado)}.user-actions[_ngcontent-%COMP%]   .reject[_ngcontent-%COMP%]:hover{background:#fecaca}@media (max-width: 900px){.user-item[_ngcontent-%COMP%]{grid-template-columns:1fr;text-align:center}.user-info[_ngcontent-%COMP%]{grid-template-columns:1fr}.user-actions[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 520px){.revision-container[_ngcontent-%COMP%]{padding:14px}.revision-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;text-align:center}.user-actions[_ngcontent-%COMP%]{flex-direction:row;justify-content:center;gap:10px}.user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;width:auto}}"]})}}return e})(),gn=(()=>{class e{constructor(n){this.router=n}solicitar(){this.router.navigate(["/components/solicitud-subastador"])}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(g.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-inicio"]],decls:15,vars:0,consts:[[1,"landing"],[1,"box"],[1,"subtitle"],[1,"info"],[1,"accent"],[3,"click"],[1,"footer-text"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"Global Carn\xedvora Network"),t.k0s(),t.j41(4,"p",2),t.EFF(5," Plataforma comunitaria de subastas y gesti\xf3n "),t.k0s(),t.j41(6,"div",3)(7,"p"),t.EFF(8," Actualmente la plataforma est\xe1 en desarrollo y solo est\xe1 habilitada para subastadores y administradores. "),t.k0s(),t.j41(9,"p",4),t.EFF(10," Los usuarios pueden solicitar el rol de subastador. "),t.k0s()(),t.j41(11,"button",5),t.bIt("click",function(){return a.solicitar()}),t.EFF(12," Solicitar ser subastador "),t.k0s(),t.j41(13,"span",6),t.EFF(14," M\xe1s funciones estar\xe1n disponibles pr\xf3ximamente "),t.k0s()()())},styles:[".landing[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--color-bg-alt);padding:16px}.box[_ngcontent-%COMP%]{background:var(--color-bg);border:1px solid var(--color-border);border-radius:14px;padding:36px;max-width:520px;width:100%;text-align:center}h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:8px;color:var(--color-title)}.subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--color-subtitle);margin-bottom:24px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:12px;color:var(--color-text)}.accent[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:500}button[_ngcontent-%COMP%]{margin-top:20px;width:100%;padding:14px;border-radius:10px;border:none;background:var(--color-btn-primary);color:var(--color-btn-text-light);font-size:1rem;font-weight:500;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:var(--color-btn-primary-light)}.footer-text[_ngcontent-%COMP%]{display:block;margin-top:24px;font-size:.8rem;color:var(--color-text-muted)}@media (max-width: 768px){.box[_ngcontent-%COMP%]{padding:28px}h1[_ngcontent-%COMP%]{font-size:1.7rem}.subtitle[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 480px){.box[_ngcontent-%COMP%]{padding:22px;border-radius:12px}h1[_ngcontent-%COMP%]{font-size:1.5rem}button[_ngcontent-%COMP%]{padding:13px;font-size:.95rem}.footer-text[_ngcontent-%COMP%]{font-size:.75rem}}"]})}}return e})();class k{constructor(){this.id=0,this.phone="",this.motivo="",this.fechaCreacion=new Date}}const un=b.c.base;let mn=(()=>{class e{constructor(n){this.http=n,this.url=`${un}/lista-negra`,this.listaCambio=new f.B}getHeaders(){const n=sessionStorage.getItem("token");return(new p.Lr).set("Authorization",`Bearer ${n}`).set("Content-Type","application/json")}list(){return this.http.get(this.url,{headers:this.getHeaders()})}getById(n){return this.http.get(`${this.url}/${n}`,{headers:this.getHeaders()})}buscarPorPhone(n){return this.http.get(`${this.url}/buscar?phone=${encodeURIComponent(n)}`,{headers:this.getHeaders()})}insert(n){return this.http.post(this.url,n,{headers:this.getHeaders()})}update(n,o){return this.http.put(`${this.url}/${n}`,o,{headers:this.getHeaders()})}delete(n){return this.http.delete(`${this.url}/${n}`,{headers:this.getHeaders()})}setList(n){this.listaCambio.next(n)}getList(){return this.listaCambio.asObservable()}static{this.\u0275fac=function(o){return new(o||e)(t.KVO(p.Qq))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function bn(e,i){if(1&e){const n=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.mostrarInfo=!a.mostrarInfo)}),t.EFF(1," Acerca de la app "),t.k0s()}}function _n(e,i){1&e&&(t.j41(0,"div",20),t.EFF(1," Esta herramienta es de uso exclusivo para la comunidad "),t.j41(2,"strong"),t.EFF(3,"Global Carnivora Network"),t.k0s(),t.EFF(4,". Permite verificar si un n\xfamero ha sido reportado. "),t.k0s())}function hn(e,i){if(1&e&&(t.j41(0,"div",21),t.EFF(1," \u26a0 "),t.j41(2,"strong"),t.EFF(3,"CUIDADO"),t.k0s(),t.nrm(4,"br"),t.j41(5,"strong"),t.EFF(6,"Motivo:"),t.k0s(),t.EFF(7),t.k0s()),2&e){const n=t.XpG(2);t.R7$(7),t.SpI(" ",n.resultadoBusqueda.motivo||"No especificado"," ")}}function fn(e,i){1&e&&(t.j41(0,"div",22),t.EFF(1," \u2714 No registra reportes dentro de la comunidad. "),t.k0s())}function vn(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",7),t.DNE(1,_n,5,0,"div",8),t.j41(2,"div",9)(3,"label"),t.EFF(4,"Pa\xeds"),t.k0s(),t.j41(5,"select",10),t.bIt("ngModelChange",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.prefijoBusqueda=a)}),t.j41(6,"option",11),t.EFF(7,"\u{1f1f5}\u{1f1ea} Per\xfa (+51)"),t.k0s(),t.j41(8,"option",12),t.EFF(9,"\u{1f1e8}\u{1f1f4} Colombia (+57)"),t.k0s(),t.j41(10,"option",13),t.EFF(11,"\u{1f1f2}\u{1f1fd} M\xe9xico (+52)"),t.k0s(),t.j41(12,"option",14),t.EFF(13,"\u{1f1e6}\u{1f1f7} Argentina (+54)"),t.k0s(),t.j41(14,"option",15),t.EFF(15,"\u{1f1e8}\u{1f1f1} Chile (+56)"),t.k0s()()(),t.j41(16,"div",9)(17,"label"),t.EFF(18,"N\xfamero"),t.k0s(),t.j41(19,"input",16),t.bIt("ngModelChange",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.telefonoBusqueda=a)}),t.k0s()(),t.j41(20,"button",17),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.buscar())}),t.EFF(21,"Buscar"),t.k0s(),t.DNE(22,hn,8,1,"div",18),t.DNE(23,fn,2,0,"div",19),t.k0s()}if(2&e){const n=t.XpG();t.R7$(1),t.Y8G("ngIf",n.mostrarInfo),t.R7$(4),t.Y8G("ngModel",n.prefijoBusqueda),t.R7$(14),t.Y8G("ngModel",n.telefonoBusqueda),t.R7$(3),t.Y8G("ngIf",n.resultadoBusqueda),t.R7$(1),t.Y8G("ngIf",null===n.resultadoBusqueda)}}function xn(e,i){if(1&e){const n=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"date"),t.k0s(),t.j41(8,"td")(9,"button",45),t.bIt("click",function(){const r=t.eBV(n).$implicit,s=t.XpG(2);return t.Njj(s.editar(r))}),t.EFF(10," editar "),t.k0s(),t.j41(11,"button",46),t.bIt("click",function(){const r=t.eBV(n).$implicit,s=t.XpG(2);return t.Njj(s.eliminar(r.id))}),t.EFF(12," eliminar "),t.k0s()()()}if(2&e){const n=i.$implicit;t.R7$(2),t.JRh(n.phone),t.R7$(2),t.JRh(n.motivo||"\u2014"),t.R7$(2),t.JRh(t.i5U(7,3,n.fechaCreacion,"short"))}}function Cn(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",23)(1,"div",24)(2,"button",25),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.abrirModal())}),t.EFF(3,"Agregar n\xfamero"),t.k0s()(),t.j41(4,"div",26),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.cerrarModal())}),t.j41(5,"div",27),t.bIt("click",function(a){return a.stopPropagation()}),t.j41(6,"span",28),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.cerrarModal())}),t.EFF(7,"\xd7"),t.k0s(),t.j41(8,"form",29,30),t.bIt("ngSubmit",function(){t.eBV(n);const a=t.sdS(9),r=t.XpG();return t.Njj(r.guardar(a))}),t.j41(10,"div",31)(11,"select",32),t.bIt("ngModelChange",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.prefijo=a)}),t.j41(12,"option",11),t.EFF(13,"\u{1f1f5}\u{1f1ea} +51"),t.k0s(),t.j41(14,"option",12),t.EFF(15,"\u{1f1e8}\u{1f1f4} +57"),t.k0s(),t.j41(16,"option",13),t.EFF(17,"\u{1f1f2}\u{1f1fd} +52"),t.k0s(),t.j41(18,"option",14),t.EFF(19,"\u{1f1e6}\u{1f1f7} +54"),t.k0s(),t.j41(20,"option",15),t.EFF(21,"\u{1f1e8}\u{1f1f1} +56"),t.k0s()(),t.j41(22,"input",33),t.bIt("ngModelChange",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.numeroLocal=a)}),t.k0s()(),t.j41(23,"input",34),t.bIt("ngModelChange",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.seleccionado.motivo=a)}),t.k0s(),t.j41(24,"div",35)(25,"button",36),t.bIt("click",function(){t.eBV(n);const a=t.sdS(9),r=t.XpG();return t.Njj(r.cancelar(a))}),t.EFF(26," Cancelar "),t.k0s(),t.j41(27,"button",37),t.EFF(28),t.k0s()()()()(),t.j41(29,"div",38)(30,"input",39),t.bIt("ngModelChange",function(a){t.eBV(n);const r=t.XpG();return t.Njj(r.filtroAdmin=a)})("input",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.aplicarFiltroAdmin())}),t.k0s()(),t.j41(31,"div",40)(32,"table",41)(33,"thead")(34,"tr")(35,"th"),t.EFF(36,"Tel\xe9fono"),t.k0s(),t.j41(37,"th"),t.EFF(38,"Motivo"),t.k0s(),t.j41(39,"th"),t.EFF(40,"Fecha"),t.k0s(),t.j41(41,"th"),t.EFF(42,"Acciones"),t.k0s()()(),t.j41(43,"tbody"),t.DNE(44,xn,13,6,"tr",42),t.k0s()()(),t.j41(45,"div",43)(46,"button",44),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.cambiarPagina(a.paginaActual-1))}),t.EFF(47," Anterior "),t.k0s(),t.j41(48,"span"),t.EFF(49),t.k0s(),t.j41(50,"button",44),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.cambiarPagina(a.paginaActual+1))}),t.EFF(51," Siguiente "),t.k0s()(),t.nrm(52,"br"),t.k0s()}if(2&e){const n=t.sdS(9),o=t.XpG();t.R7$(4),t.AVh("show",o.modalVisible),t.R7$(7),t.Y8G("ngModel",o.prefijo),t.R7$(11),t.Y8G("ngModel",o.numeroLocal),t.R7$(1),t.Y8G("ngModel",o.seleccionado.motivo),t.R7$(4),t.Y8G("disabled",n.invalid),t.R7$(1),t.SpI(" ",0===o.seleccionado.id?"Agregar":"Actualizar"," "),t.R7$(2),t.Y8G("ngModel",o.filtroAdmin),t.R7$(14),t.Y8G("ngForOf",o.listaPaginada),t.R7$(2),t.Y8G("disabled",1===o.paginaActual),t.R7$(3),t.Lme("P\xe1gina ",o.paginaActual," de ",o.totalPaginas,""),t.R7$(1),t.Y8G("disabled",o.paginaActual===o.totalPaginas)}}let Mn=(()=>{class e{constructor(n,o){this.service=n,this.http=o,this.lista=[],this.listaFiltrada=[],this.listaPaginada=[],this.filtroAdmin="",this.paginaActual=1,this.registrosPorPagina=8,this.totalPaginas=1,this.seleccionado=new k,this.esAdmin=!1,this.modalVisible=!1,this.telefonoBusqueda="",this.prefijoBusqueda="+51",this.prefijo="+51",this.numeroLocal="",this.mostrarInfo=!1,this.baseUrl=b.c.base}ngOnInit(){this.obtenerRoles()}obtenerRoles(){const n=sessionStorage.getItem("token"),o=(new p.Lr).set("Authorization",`Bearer ${n}`);this.http.get(`${this.baseUrl}/users/details`,{headers:o}).subscribe(a=>{this.esAdmin=a.roles?.includes("ADMIN"),this.esAdmin&&this.cargar()})}cargar(){this.service.list().subscribe(n=>{this.lista=n,this.listaFiltrada=n,this.actualizarPaginacion(),this.service.setList(n)})}aplicarFiltroAdmin(){const n=this.filtroAdmin.toLowerCase();this.listaFiltrada=this.lista.filter(o=>o.phone.toLowerCase().includes(n)||(o.motivo||"").toLowerCase().includes(n)),this.paginaActual=1,this.actualizarPaginacion()}actualizarPaginacion(){this.totalPaginas=Math.ceil(this.listaFiltrada.length/this.registrosPorPagina);const n=(this.paginaActual-1)*this.registrosPorPagina;this.listaPaginada=this.listaFiltrada.slice(n,n+this.registrosPorPagina)}cambiarPagina(n){n<1||n>this.totalPaginas||(this.paginaActual=n,this.actualizarPaginacion())}buscar(){if(!this.telefonoBusqueda.trim())return;const n=this.telefonoBusqueda.replace(/\D/g,"");this.service.buscarPorPhone(this.prefijoBusqueda+n).subscribe(a=>this.resultadoBusqueda=a,()=>this.resultadoBusqueda=null)}guardar(n){if(n.invalid||!this.numeroLocal.trim()||!window.confirm(0===this.seleccionado.id?`\xbfDeseas a\xf1adir el n\xfamero ${this.prefijo}${this.numeroLocal} a la lista negra?`:`\xbfDeseas actualizar el registro de ${this.prefijo}${this.numeroLocal}?`))return;const a=this.numeroLocal.replace(/\D/g,"");this.seleccionado.phone=this.prefijo+a,(0===this.seleccionado.id?this.service.insert(this.seleccionado):this.service.update(this.seleccionado.id,this.seleccionado)).subscribe(()=>{this.cargar(),this.seleccionado=new k,this.prefijo="+51",this.numeroLocal="",n.resetForm({prefijo:"+51"}),this.cerrarModal()})}editar(n){window.confirm(`\xbfDeseas editar el registro del n\xfamero ${n.phone}?`)&&(this.prefijo=n.phone.substring(0,3),this.numeroLocal=n.phone.substring(3),this.seleccionado={...n},this.modalVisible=!0)}eliminar(n){window.confirm("\xbfDeseas eliminar este registro?")&&this.service.delete(n).subscribe(()=>this.cargar())}abrirModal(n){this.seleccionado=n?{...n}:new k,this.modalVisible=!0}cerrarModal(){this.modalVisible=!1}cancelar(n){this.seleccionado=new k,this.prefijo="+51",this.numeroLocal="",n.resetForm({prefijo:"+51"}),this.cerrarModal()}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(mn),t.rXU(p.Qq))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-listanegra"]],decls:10,vars:3,consts:[[1,"ln-wrapper"],[1,"ln-header"],[1,"sub"],["class","acerca-btn",3,"click",4,"ngIf"],["class","card",4,"ngIf"],["class","admin-panel",4,"ngIf"],[1,"acerca-btn",3,"click"],[1,"card"],["class","info-box",4,"ngIf"],[1,"form-group"],["name","prefijoBusqueda",3,"ngModel","ngModelChange"],["value","+51"],["value","+57"],["value","+52"],["value","+54"],["value","+56"],["type","text","placeholder","Coloca el n\xfamero","name","telefonoBusqueda",3,"ngModel","ngModelChange"],[3,"click"],["class","resultado alerta",4,"ngIf"],["class","resultado ok",4,"ngIf"],[1,"info-box"],[1,"resultado","alerta"],[1,"resultado","ok"],[1,"admin-panel"],[1,"admin-top"],[1,"ln-add-btn",3,"click"],[1,"ln-modal",3,"click"],[1,"ln-modal-content",3,"click"],[1,"ln-close",3,"click"],[1,"ln-form",3,"ngSubmit"],["form","ngForm"],[1,"ln-phone-group"],["name","prefijo","required","",3,"ngModel","ngModelChange"],["type","text","placeholder","N\xfamero","name","numero","required","","minlength","6",3,"ngModel","ngModelChange"],["type","text","placeholder","Motivo","name","motivo","required","",3,"ngModel","ngModelChange"],[1,"ln-form-actions"],["type","button",1,"cancel-btn",3,"click"],["type","submit",3,"disabled"],[1,"admin-search"],["type","text","placeholder","Buscar n\xfamero o motivo...",3,"ngModel","ngModelChange","input"],[1,"table-container"],[1,"ln-table"],[4,"ngFor","ngForOf"],[1,"paginador"],[3,"disabled","click"],["title","Editar",1,"icon-btn","edit",3,"click"],["title","Eliminar",1,"icon-btn","delete",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"header",1)(2,"h1"),t.EFF(3,"Global Carnivora Network"),t.k0s(),t.j41(4,"p",2),t.EFF(5,"Sistema de Seguridad de la Comunidad"),t.k0s(),t.DNE(6,bn,2,0,"button",3),t.k0s(),t.j41(7,"main"),t.DNE(8,vn,24,5,"div",4),t.DNE(9,Cn,53,13,"div",5),t.k0s()()),2&o&&(t.R7$(6),t.Y8G("ngIf",!a.esAdmin),t.R7$(2),t.Y8G("ngIf",!a.esAdmin),t.R7$(1),t.Y8G("ngIf",a.esAdmin))},dependencies:[d.Sq,d.bT,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.YS,l.xh,l.vS,l.cV,d.vh],styles:[".ln-wrapper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Poppins,sans-serif}.ln-wrapper[_ngcontent-%COMP%]{min-height:100vh;color:var(--color-text)}.ln-wrapper[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{padding:5px 20px;display:flex;justify-content:center}.ln-wrapper[_ngcontent-%COMP%]   .ln-header[_ngcontent-%COMP%]{text-align:center;padding:40px 20px 10px}.ln-wrapper[_ngcontent-%COMP%]   .ln-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.3rem;font-weight:700;letter-spacing:1px;color:var(--color-primary)}.ln-wrapper[_ngcontent-%COMP%]   .ln-header[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{margin-top:6px;opacity:.6;color:var(--color-subtitle)}.ln-wrapper[_ngcontent-%COMP%]   .acerca-btn[_ngcontent-%COMP%]{margin-top:18px;padding:8px 20px;border-radius:50px;border:1px solid var(--color-primary);background:transparent;color:var(--color-primary);cursor:pointer;transition:.3s}.ln-wrapper[_ngcontent-%COMP%]   .acerca-btn[_ngcontent-%COMP%]:hover{background:var(--color-primary);color:var(--color-btn-text-light)}.ln-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;max-width:420px;padding:30px;border-radius:20px;background:var(--color-bg-alt);border:1px solid var(--color-border);box-shadow:0 20px 50px #00000014}.ln-wrapper[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{background:var(--color-success);padding:14px;border-radius:12px;margin-bottom:20px;font-size:.9rem;border:1px solid var(--color-border)}.ln-wrapper[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:18px;display:flex;flex-direction:column}.ln-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:6px;opacity:.7;color:var(--color-text-muted)}.ln-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .ln-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:12px;border-radius:12px;border:1px solid var(--color-border);background:var(--color-bg);color:var(--color-text);outline:none;transition:.3s;width:100%}.ln-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .ln-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:var(--color-primary);box-shadow:0 0 0 2px var(--color-success-hover)}.ln-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px;border-radius:14px;border:none;cursor:pointer;font-weight:600;margin-top:10px;background:var(--color-btn-primary);color:var(--color-btn-text-light);transition:.3s}.ln-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--color-btn-primary-light)}.ln-wrapper[_ngcontent-%COMP%]   .resultado[_ngcontent-%COMP%]{margin-top:18px;padding:14px;border-radius:14px;font-size:.9rem}.ln-wrapper[_ngcontent-%COMP%]   .alerta[_ngcontent-%COMP%]{background:#fee2e2;border:1px solid var(--color-estado-rechazado)}.ln-wrapper[_ngcontent-%COMP%]   .ok[_ngcontent-%COMP%]{background:var(--color-success);border:1px solid var(--color-secondary)}.ln-wrapper[_ngcontent-%COMP%]   .admin-panel[_ngcontent-%COMP%]{width:100%;max-width:1100px}.ln-wrapper[_ngcontent-%COMP%]   .admin-top[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:20px}.ln-wrapper[_ngcontent-%COMP%]   .ln-add-btn[_ngcontent-%COMP%]{background:var(--color-btn-danger);color:var(--color-btn-text-light)}.ln-wrapper[_ngcontent-%COMP%]   .admin-search[_ngcontent-%COMP%]{margin-bottom:20px}.ln-wrapper[_ngcontent-%COMP%]   .admin-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:350px}.ln-wrapper[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto;background:var(--color-bg-alt);border-radius:18px;border:1px solid var(--color-border)}.ln-wrapper[_ngcontent-%COMP%]   .ln-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:700px}.ln-wrapper[_ngcontent-%COMP%]   .ln-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ln-wrapper[_ngcontent-%COMP%]   .ln-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px;text-align:left;border-bottom:1px solid var(--color-border);font-size:.9rem}.ln-wrapper[_ngcontent-%COMP%]   .ln-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--color-bg);font-weight:600}.ln-wrapper[_ngcontent-%COMP%]   .ln-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--color-muted)}.ln-wrapper[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:8px;border:1px solid var(--color-border);background:transparent;cursor:pointer;transition:.2s;color:var(--color-text)}.ln-wrapper[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.ln-wrapper[_ngcontent-%COMP%]   .icon-btn.edit[_ngcontent-%COMP%]{border-color:var(--color-primary);color:var(--color-primary)}.ln-wrapper[_ngcontent-%COMP%]   .icon-btn.edit[_ngcontent-%COMP%]:hover{background:var(--color-primary-light);color:var(--color-success)}.ln-wrapper[_ngcontent-%COMP%]   .icon-btn.delete[_ngcontent-%COMP%]{border-color:var(--color-estado-rechazado);color:var(--color-estado-rechazado)}.ln-wrapper[_ngcontent-%COMP%]   .icon-btn.delete[_ngcontent-%COMP%]:hover{background:#fee2e2;color:var(--color-estado-rechazado)}.ln-wrapper[_ngcontent-%COMP%]   .paginador[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;gap:16px}.ln-wrapper[_ngcontent-%COMP%]   .paginador[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 14px;font-size:.8rem}.ln-wrapper[_ngcontent-%COMP%]   .ln-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:.3s ease;z-index:1000;padding:10px}.ln-wrapper[_ngcontent-%COMP%]   .ln-modal.show[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.ln-wrapper[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:not(:last-child){margin-right:6px}.ln-wrapper[_ngcontent-%COMP%]   .ln-modal-content[_ngcontent-%COMP%]{width:100%;max-width:420px;padding:28px;border-radius:20px;background:var(--color-bg);transform:scale(.9);transition:.3s ease;position:relative}.ln-wrapper[_ngcontent-%COMP%]   .ln-modal.show[_ngcontent-%COMP%]   .ln-modal-content[_ngcontent-%COMP%]{transform:scale(1)}.ln-wrapper[_ngcontent-%COMP%]   .ln-close[_ngcontent-%COMP%]{position:absolute;right:16px;top:12px;font-size:1.4rem;cursor:pointer;color:var(--color-text-muted)}.ln-wrapper[_ngcontent-%COMP%]   .ln-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.ln-wrapper[_ngcontent-%COMP%]   .ln-phone-group[_ngcontent-%COMP%]{display:flex;gap:10px}.ln-wrapper[_ngcontent-%COMP%]   .ln-phone-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:35%}.ln-wrapper[_ngcontent-%COMP%]   .ln-phone-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:65%}.ln-wrapper[_ngcontent-%COMP%]   .ln-form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:14px}.ln-wrapper[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--color-border);color:var(--color-text)}.ln-wrapper[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background:var(--color-muted)}@media (max-width: 600px){.ln-wrapper[_ngcontent-%COMP%]   .ln-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.7rem}.ln-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:22px}.ln-wrapper[_ngcontent-%COMP%]   .ln-phone-group[_ngcontent-%COMP%]{flex-direction:column}.ln-wrapper[_ngcontent-%COMP%]   .ln-phone-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .ln-wrapper[_ngcontent-%COMP%]   .ln-phone-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.ln-wrapper[_ngcontent-%COMP%]   .ln-modal-content[_ngcontent-%COMP%]{max-width:100%;margin:0 10px}}"]})}}return e})();var S=u(3489);function kn(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",31),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.go("/components/ver-subastas"))}),t.nrm(1,"div",28),t.j41(2,"div",32)(3,"div",33),t.nrm(4,"i",34),t.k0s(),t.j41(5,"div",35)(6,"div",21),t.EFF(7,"EN VIVO"),t.k0s(),t.j41(8,"div",22),t.EFF(9,"Subastas"),t.k0s(),t.j41(10,"div",23),t.EFF(11,"Tus subastas activas"),t.k0s()()()()}}function Pn(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",27),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.go("/components/inforcion-subastas"))}),t.nrm(1,"div",28),t.j41(2,"div",19),t.nrm(3,"i",36),t.k0s(),t.j41(4,"div",21),t.EFF(5,"ESTAD\xcdSTICAS"),t.k0s(),t.j41(6,"div",22),t.EFF(7,"Panel"),t.k0s(),t.j41(8,"div",23),t.EFF(9,"Resumen r\xe1pido"),t.k0s()()}}function Fn(e,i){if(1&e&&(t.j41(0,"section",13)(1,"h3",14),t.EFF(2,"SUBASTAS"),t.k0s(),t.j41(3,"div",15),t.DNE(4,kn,12,0,"div",30),t.DNE(5,Pn,10,0,"div",16),t.k0s()()),2&e){t.XpG();const n=t.sdS(15);t.R7$(4),t.Y8G("ngIf","gestion subastas".includes(n.value.toLowerCase())),t.R7$(1),t.Y8G("ngIf","dashboard metricas".includes(n.value.toLowerCase()))}}function On(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",27),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.go("/components/eventos"))}),t.nrm(1,"div",28),t.j41(2,"div",19),t.nrm(3,"i",37),t.k0s(),t.j41(4,"div",21),t.EFF(5,"CALENDARIO"),t.k0s(),t.j41(6,"div",22),t.EFF(7,"Eventos"),t.k0s(),t.j41(8,"div",23),t.EFF(9,"Fechas y horarios"),t.k0s()()}}function En(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",27),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.go("/components/revision-solicitudes"))}),t.nrm(1,"div",28),t.j41(2,"div",19),t.nrm(3,"i",38),t.k0s(),t.j41(4,"div",21),t.EFF(5,"SOLICITUDES"),t.k0s(),t.j41(6,"div",22),t.EFF(7,"Subastadores"),t.k0s(),t.j41(8,"div",23),t.EFF(9,"Revisar perfiles"),t.k0s()()}}function jn(e,i){if(1&e&&(t.j41(0,"section",13)(1,"h3",14),t.EFF(2,"ADMIN"),t.k0s(),t.j41(3,"div",15),t.DNE(4,On,10,0,"div",16),t.DNE(5,En,10,0,"div",16),t.k0s()()),2&e){t.XpG();const n=t.sdS(15);t.R7$(4),t.Y8G("ngIf","eventos".includes(n.value.toLowerCase())),t.R7$(1),t.Y8G("ngIf","revision solicitudes".includes(n.value.toLowerCase()))}}function yn(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",27),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.go("/components/lista-negra"))}),t.nrm(1,"div",39),t.j41(2,"div",19),t.nrm(3,"i",40),t.k0s(),t.j41(4,"div",21),t.EFF(5,"LISTA NEGRA"),t.k0s(),t.j41(6,"div",22),t.EFF(7,"Usuarios"),t.k0s(),t.j41(8,"div",23),t.EFF(9,"Bloqueados"),t.k0s()()}}function wn(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",27),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.go("/components/solicitud-subastador"))}),t.nrm(1,"div",41),t.j41(2,"div",19),t.nrm(3,"i",42),t.k0s(),t.j41(4,"div",21),t.EFF(5,"APLICAR"),t.k0s(),t.j41(6,"div",22),t.EFF(7,"Subastador"),t.k0s(),t.j41(8,"div",23),t.EFF(9,"Postular"),t.k0s()()}}let In=(()=>{class e{constructor(n,o,a){this.mydata=n,this.loginService=o,this.router=a,this.userRole=null,this.today=new Date}ngOnInit(){this.mydata.getMyData().subscribe(n=>{this.user=n,this.userRole=this.loginService.showRole()})}go(n){this.router.navigate([n])}isAdmin(){return"ADMIN"===this.userRole}isSubastador(){return"SUBASTADOR"===this.userRole||"ADMIN"===this.userRole}isSoloUser(){return"USER"===this.userRole||"SUBASTADOR_PENDIENTE"===this.userRole}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(M),t.rXU(S.H),t.rXU(g.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-home-general"]],decls:83,vars:9,consts:[[1,"dashboard-panel"],[1,"home-terminal-header"],[1,"identity-group"],[1,"avatar-ring"],[1,"avatar-core"],[1,"identity-text"],[1,"role-indicator"],[1,"command-search"],[1,"bi","bi-search"],["type","text","placeholder","Buscar m\xf3dulo...",1,"input-glow",3,"input"],["filter",""],[1,"system-sections"],["class","module-group",4,"ngIf"],[1,"module-group"],[1,"group-title"],[1,"system-grid"],["class","node",3,"click",4,"ngIf"],[1,"node","pending"],[1,"node-accent","info"],[1,"node-icon-sm"],[1,"bi","bi-star-half"],[1,"node-label"],[1,"node-title"],[1,"node-sub"],[1,"bi","bi-people"],[1,"bi","bi-shield-check"],[1,"bi","bi-bookmark-heart"],[1,"node",3,"click"],[1,"node-accent"],[1,"bi","bi-person-badge"],["class","node master",3,"click",4,"ngIf"],[1,"node","master",3,"click"],[1,"node-body"],[1,"node-icon-main"],[1,"bi","bi-hammer"],[1,"node-content"],[1,"bi","bi-graph-up-arrow"],[1,"bi","bi-calendar-event"],[1,"bi","bi-clipboard-check"],[1,"node-accent","danger"],[1,"bi","bi-shield-lock"],[1,"node-accent","success"],[1,"bi","bi-award"]],template:function(o,a){if(1&o&&(t.j41(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4),t.EFF(5),t.k0s()(),t.j41(6,"div",5)(7,"span",6),t.EFF(8),t.nI1(9,"uppercase"),t.k0s(),t.j41(10,"h2"),t.EFF(11),t.k0s()()()(),t.j41(12,"div",7),t.nrm(13,"i",8),t.j41(14,"input",9,10),t.bIt("input",function(){return 0}),t.k0s()(),t.j41(16,"main",11),t.DNE(17,Fn,6,2,"section",12),t.DNE(18,jn,6,2,"section",12),t.j41(19,"section",13)(20,"h3",14),t.EFF(21,"SEGURIDAD"),t.k0s(),t.j41(22,"div",15),t.DNE(23,yn,10,0,"div",16),t.DNE(24,wn,10,0,"div",16),t.k0s()(),t.j41(25,"section",13)(26,"h3",14),t.EFF(27,"PR\xd3XIMAS FUNCIONES"),t.k0s(),t.j41(28,"div",15)(29,"div",17),t.nrm(30,"div",18),t.j41(31,"div",19),t.nrm(32,"i",20),t.k0s(),t.j41(33,"div",21),t.EFF(34,"REPUTACI\xd3N"),t.k0s(),t.j41(35,"div",22),t.EFF(36,"Valoraci\xf3n"),t.k0s(),t.j41(37,"div",23),t.EFF(38,"Pr\xf3ximamente"),t.k0s()(),t.j41(39,"div",17),t.nrm(40,"div",18),t.j41(41,"div",19),t.nrm(42,"i",24),t.k0s(),t.j41(43,"div",21),t.EFF(44,"COMUNIDAD"),t.k0s(),t.j41(45,"div",22),t.EFF(46,"Conectar"),t.k0s(),t.j41(47,"div",23),t.EFF(48,"Pr\xf3ximamente"),t.k0s()(),t.j41(49,"div",17),t.nrm(50,"div",18),t.j41(51,"div",19),t.nrm(52,"i",25),t.k0s(),t.j41(53,"div",21),t.EFF(54,"CONFIANZA"),t.k0s(),t.j41(55,"div",22),t.EFF(56,"Reputaci\xf3n"),t.k0s(),t.j41(57,"div",23),t.EFF(58,"Pr\xf3ximamente"),t.k0s()(),t.j41(59,"div",17),t.nrm(60,"div",18),t.j41(61,"div",19),t.nrm(62,"i",26),t.k0s(),t.j41(63,"div",21),t.EFF(64,"LISTA DE DESEOS"),t.k0s(),t.j41(65,"div",22),t.EFF(66,"Favoritos"),t.k0s(),t.j41(67,"div",23),t.EFF(68,"Pr\xf3ximamente"),t.k0s()()()(),t.j41(69,"section",13)(70,"h3",14),t.EFF(71,"MI CUENTA"),t.k0s(),t.j41(72,"div",15)(73,"div",27),t.bIt("click",function(){return a.go("/components/perfil")}),t.nrm(74,"div",28),t.j41(75,"div",19),t.nrm(76,"i",29),t.k0s(),t.j41(77,"div",21),t.EFF(78,"PERFIL"),t.k0s(),t.j41(79,"div",22),t.EFF(80,"Mis Datos"),t.k0s(),t.j41(81,"div",23),t.EFF(82,"Editar info"),t.k0s()()()()()()),2&o){const r=t.sdS(15);t.R7$(5),t.JRh(null==a.user||null==a.user.name?null:a.user.name.charAt(0)),t.R7$(3),t.SpI("ROL ",t.bMT(9,7,a.userRole),""),t.R7$(3),t.SpI("Hola, ",null==a.user?null:a.user.name,""),t.R7$(6),t.Y8G("ngIf",a.isAdmin()||a.isSubastador()),t.R7$(1),t.Y8G("ngIf",a.isAdmin()),t.R7$(5),t.Y8G("ngIf","lista negra".includes(r.value.toLowerCase())),t.R7$(1),t.Y8G("ngIf",a.isSoloUser()&&"postular".includes(r.value.toLowerCase()))}},dependencies:[d.bT,d.Pc],styles:[".dashboard-panel[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:30px 16px;font-family:Inter,sans-serif;color:var(--color-text)}.home-terminal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.identity-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.avatar-ring[_ngcontent-%COMP%]{padding:3px;background:linear-gradient(135deg,var(--color-btn-primary),var(--color-btn-primary-light));border-radius:18px}.avatar-core[_ngcontent-%COMP%]{width:52px;height:52px;background:var(--color-bg);border-radius:15px;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:800;color:var(--color-btn-primary)}.identity-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:22px;font-weight:700;color:var(--color-title);letter-spacing:-.5px}.role-indicator[_ngcontent-%COMP%]{font-size:10px;font-weight:800;color:var(--color-btn-primary);letter-spacing:1.5px}.command-search[_ngcontent-%COMP%]{position:relative;margin-bottom:40px;display:flex;align-items:center}.command-search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:18px;color:var(--color-text-muted);z-index:10}.input-glow[_ngcontent-%COMP%]{width:100%;padding:16px 16px 16px 48px;border-radius:18px;border:none;background:var(--color-bg);box-shadow:0 8px 24px #0000000f;font-size:15px;outline:none}.module-group[_ngcontent-%COMP%]{margin-bottom:35px}.group-title[_ngcontent-%COMP%]{font-size:11px;font-weight:800;color:var(--color-text-muted);letter-spacing:1.5px;margin-bottom:18px;padding-left:10px;border-left:3px solid var(--color-btn-primary)}.system-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.node[_ngcontent-%COMP%]{position:relative;background:var(--color-bg);padding:22px 16px;border-radius:22px;box-shadow:0 6px 18px #0000000a;cursor:pointer;display:flex;flex-direction:column;transition:transform .2s ease;overflow:hidden}.node[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.node-accent[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:6px;height:100%;background:var(--color-btn-primary);opacity:.3}.node.master[_ngcontent-%COMP%]{grid-column:span 2;background:linear-gradient(135deg,var(--color-bg),var(--color-bg-alt));flex-direction:row;align-items:center;padding:30px}.node.master[_ngcontent-%COMP%]   .node-accent[_ngcontent-%COMP%]{opacity:1}.node-icon-main[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:38px;color:var(--color-btn-primary);margin-right:20px}.node-icon-sm[_ngcontent-%COMP%]{font-size:22px;color:var(--color-btn-primary);margin-bottom:10px}.node-label[_ngcontent-%COMP%]{font-size:9px;font-weight:800;color:var(--color-text-muted);margin-bottom:3px}.node-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--color-title)}.node-sub[_ngcontent-%COMP%]{font-size:11px;color:var(--color-text-muted);margin-top:4px}.node.pending[_ngcontent-%COMP%]{opacity:.6;cursor:default;background:#f1f5f9;box-shadow:none}.node.pending[_ngcontent-%COMP%]:hover{transform:none}.node-accent.info[_ngcontent-%COMP%]{background:#64748b}.node-accent.danger[_ngcontent-%COMP%]{background:var(--color-estado-rechazado);opacity:.8}.node-accent.success[_ngcontent-%COMP%]{background:#10b981;opacity:.8}@media (min-width: 768px){.system-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:20px}}"]})}}return e})();var Sn=u(5964);let Rn=(()=>{class e{volver(){history.back()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-volver"]],decls:2,vars:0,consts:[["aria-label","Volver",1,"btn-volver",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"button",0),t.bIt("click",function(){return a.volver()}),t.EFF(1," \u276e\n"),t.k0s())},styles:[".btn-volver[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:100;display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:var(--color-bg);border:1px solid var(--color-border);border-radius:10px;color:var(--color-primary);font-size:1.4rem;font-weight:900;cursor:pointer;box-shadow:0 4px 12px #00000014;transition:all .2s ease}.btn-volver[_ngcontent-%COMP%]:hover{background:var(--color-bg-alt);transform:scale(1.05);box-shadow:0 6px 16px #0000001f}.btn-volver[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 768px){.btn-volver[_ngcontent-%COMP%]{width:36px;height:36px}}"]})}}return e})();function zn(e,i){1&e&&(t.j41(0,"a",24)(1,"i",6),t.EFF(2,"gavel"),t.k0s(),t.EFF(3," Mis Subastas "),t.k0s())}function $n(e,i){1&e&&(t.qex(0),t.nrm(1,"div",8),t.j41(2,"span",9),t.EFF(3,"Administraci\xf3n"),t.k0s(),t.j41(4,"a",25)(5,"i",6),t.EFF(6,"event"),t.k0s(),t.EFF(7," Eventos "),t.k0s(),t.j41(8,"a",26)(9,"i",6),t.EFF(10,"verified_user"),t.k0s(),t.EFF(11," Solicitudes "),t.k0s(),t.bVm())}function An(e,i){1&e&&t.nrm(0,"app-volver")}function Dn(e,i){1&e&&(t.j41(0,"a",27)(1,"i",6),t.EFF(2,"gavel"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Subastas"),t.k0s()())}function Tn(e,i){1&e&&(t.j41(0,"a",28)(1,"i",6),t.EFF(2,"event"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Eventos"),t.k0s()())}function Nn(e,i){1&e&&(t.j41(0,"a",29)(1,"i",6),t.EFF(2,"assignment"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Solicitudes"),t.k0s()())}const R=function(){return{exact:!0}},Gn=[{path:"",component:(()=>{class e{constructor(n,o,a){this.mydata=n,this.loginService=o,this.router=a,this.userRole=null,this.showBackButton=!1,this.rutasSinBoton=["/components/xd","/components/dashboard","/components/inicio"]}ngOnInit(){this.mydata.getMyData().subscribe(n=>{this.user=n,this.userRole=this.loginService.showRole()}),this.router.events.pipe((0,Sn.p)(n=>n instanceof g.wF)).subscribe(n=>{this.showBackButton=!this.rutasSinBoton.some(o=>n.urlAfterRedirects.includes(o))})}isAdmin(){return"ADMIN"===this.userRole}isSubastador(){return"SUBASTADOR"===this.userRole||"ADMIN"===this.userRole}go(n){this.router.navigate([n])}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(M),t.rXU(S.H),t.rXU(g.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-navegacion-component"]],decls:47,vars:10,consts:[[1,"app-layout"],[1,"sidebar","desktop-only"],[1,"brand"],[1,"logo-icon"],[1,"side-nav"],["routerLink","/components/dashboard","routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],[1,"material-icons"],["routerLink","/components/ver-subastas","routerLinkActive","active","class","nav-item",4,"ngIf"],[1,"divider"],[1,"nav-category"],["routerLink","/components/lista-negra","routerLinkActive","active",1,"nav-item"],[1,"fa-solid","fa-shield-halved"],[4,"ngIf"],["routerLink","/components/perfil","routerLinkActive","active",1,"nav-item"],[1,"viewport"],[1,"dynamic-content"],[1,"mobile-bottom-nav","mobile-only"],["routerLink","/components/dashboard","routerLinkActive","active",1,"mobile-nav-link",3,"routerLinkActiveOptions"],["routerLink","/components/ver-subastas","routerLinkActive","active","class","mobile-nav-link",4,"ngIf"],["routerLink","/components/eventos","routerLinkActive","active","class","mobile-nav-link",4,"ngIf"],["routerLink","/components/revision-solicitudes","routerLinkActive","active","class","mobile-nav-link",4,"ngIf"],["routerLink","/components/lista-negra","routerLinkActive","active",1,"mobile-nav-link"],[1,"bi","bi-shield-check"],["routerLink","/components/perfil","routerLinkActive","active",1,"mobile-nav-link"],["routerLink","/components/ver-subastas","routerLinkActive","active",1,"nav-item"],["routerLink","/components/eventos","routerLinkActive","active",1,"nav-item"],["routerLink","/components/revision-solicitudes","routerLinkActive","active",1,"nav-item"],["routerLink","/components/ver-subastas","routerLinkActive","active",1,"mobile-nav-link"],["routerLink","/components/eventos","routerLinkActive","active",1,"mobile-nav-link"],["routerLink","/components/revision-solicitudes","routerLinkActive","active",1,"mobile-nav-link"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"aside",1)(2,"div",2)(3,"div",3),t.EFF(4,"C"),t.k0s(),t.j41(5,"span"),t.EFF(6,"CarniNet"),t.k0s()(),t.j41(7,"nav",4)(8,"a",5)(9,"i",6),t.EFF(10,"dashboard"),t.k0s(),t.EFF(11," Inicio "),t.k0s(),t.DNE(12,zn,4,0,"a",7),t.nrm(13,"div",8),t.j41(14,"span",9),t.EFF(15,"Seguridad"),t.k0s(),t.j41(16,"a",10),t.nrm(17,"i",11),t.EFF(18," Lista Negra "),t.k0s(),t.DNE(19,$n,12,0,"ng-container",12),t.nrm(20,"div",8),t.j41(21,"a",13)(22,"i",6),t.EFF(23,"account_circle"),t.k0s(),t.EFF(24," Mi Perfil "),t.k0s()()(),t.j41(25,"main",14)(26,"div",15),t.DNE(27,An,1,0,"app-volver",12),t.nrm(28,"router-outlet"),t.k0s()(),t.j41(29,"nav",16)(30,"a",17)(31,"i",6),t.EFF(32,"grid_view"),t.k0s(),t.j41(33,"span"),t.EFF(34,"Inicio"),t.k0s()(),t.DNE(35,Dn,5,0,"a",18),t.DNE(36,Tn,5,0,"a",19),t.DNE(37,Nn,5,0,"a",20),t.j41(38,"a",21),t.nrm(39,"i",22),t.j41(40,"span"),t.EFF(41,"Seguridad"),t.k0s()(),t.j41(42,"a",23)(43,"i",6),t.EFF(44,"person_outline"),t.k0s(),t.j41(45,"span"),t.EFF(46,"Perfil"),t.k0s()()()()),2&o&&(t.R7$(8),t.Y8G("routerLinkActiveOptions",t.lJ4(8,R)),t.R7$(4),t.Y8G("ngIf",a.isSubastador()||a.isAdmin()),t.R7$(7),t.Y8G("ngIf",a.isAdmin()),t.R7$(8),t.Y8G("ngIf",a.showBackButton),t.R7$(3),t.Y8G("routerLinkActiveOptions",t.lJ4(9,R)),t.R7$(5),t.Y8G("ngIf",a.isSubastador()||a.isAdmin()),t.R7$(1),t.Y8G("ngIf",a.isAdmin()),t.R7$(1),t.Y8G("ngIf",a.isAdmin()))},dependencies:[d.bT,g.n3,g.Wk,g.wQ,Rn],styles:['.app-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:var(--color-bg-alt)}.sidebar[_ngcontent-%COMP%]{width:280px;background:var(--color-bg);border-right:1px solid var(--color-border);padding:2rem 1.2rem;display:flex;flex-direction:column}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:1.4rem;font-weight:800;color:var(--color-primary);margin-bottom:3rem}.logo-icon[_ngcontent-%COMP%]{width:35px;height:35px;background:var(--color-primary);color:#fff;display:flex;align-items:center;justify-content:center;border-radius:8px}.nav-category[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;letter-spacing:1px;color:var(--color-text-muted);padding:10px 16px;display:block;font-weight:700}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;border-radius:12px;color:var(--color-text-muted);cursor:pointer;transition:.2s;margin-bottom:4px;text-decoration:none}.nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.nav-item[_ngcontent-%COMP%]:hover, .nav-item.active[_ngcontent-%COMP%]{background:var(--color-bg-alt);color:var(--color-btn-primary);font-weight:600}.nav-item.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-btn-primary)}.divider[_ngcontent-%COMP%]{height:1px;background:var(--color-border);margin:1rem 0}.viewport[_ngcontent-%COMP%]{flex:1;padding:2.5rem;overflow-y:auto;position:relative}.dynamic-content[_ngcontent-%COMP%]{width:100%;position:relative}.mobile-only[_ngcontent-%COMP%]{display:none!important}@media (max-width: 768px){.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-only[_ngcontent-%COMP%]{display:flex!important}.viewport[_ngcontent-%COMP%]{padding:1rem;padding-bottom:100px}.mobile-bottom-nav[_ngcontent-%COMP%]{position:fixed;bottom:15px;left:15px;right:15px;height:70px;background:rgba(255,255,255,.9);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.3);border-radius:24px;display:flex;justify-content:space-around;align-items:center;z-index:1000;box-shadow:0 10px 30px #00000014}.mobile-nav-link[_ngcontent-%COMP%]{color:var(--color-text-muted);text-decoration:none;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all .3s cubic-bezier(.4,0,.2,1);width:25%}.mobile-nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;margin-bottom:2px}.mobile-nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:.5px}.mobile-nav-link.active[_ngcontent-%COMP%]{color:var(--color-btn-primary)}.mobile-nav-link.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:translateY(-4px)}.mobile-nav-link.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:8px;width:4px;height:4px;background:var(--color-btn-primary);border-radius:50%}}']})}}return e})(),children:[{path:"dashboard",component:In,canActivate:[m.z],data:{roles:["ADMIN","SUBASTADOR","SUBASTADOR_PENDIENTE","USER"]}},{path:"lista-negra",component:Mn,canActivate:[m.z],data:{roles:["ADMIN","SUBASTADOR","SUBASTADOR_PENDIENTE","USER"]}},{path:"eventos",component:H,canActivate:[m.z],data:{roles:["ADMIN"]}},{path:"subastas",component:w,canActivate:[m.z],data:{roles:["ADMIN","SUBASTADOR"]}},{path:"subastas/:id",component:w,canActivate:[m.z],data:{roles:["ADMIN","SUBASTADOR"]}},{path:"ver-subastas",component:dt,canActivate:[m.z],data:{roles:["ADMIN","SUBASTADOR"]}},{path:"detalles",component:bt,canActivate:[m.z],data:{roles:["ADMIN","SUBASTADOR"]}},{path:"organizar-subastas/:idEvento",component:Ft,canActivate:[m.z],data:{roles:["ADMIN"]}},{path:"subastas-aceptadas/:idEvento",component:At,canActivate:[m.z],data:{roles:["ADMIN"]}},{path:"perfil",component:Xt,canActivate:[m.z],data:{roles:["ADMIN","SUBASTADOR","SUBASTADOR_PENDIENTE","USER"]}},{path:"inforcion-subastas",component:Zt,canActivate:[m.z],data:{roles:["ADMIN","SUBASTADOR"]}},{path:"solicitud-subastador",component:rn,canActivate:[m.z],data:{roles:["USER","SUBASTADOR_PENDIENTE"]}},{path:"revision-solicitudes",component:pn,canActivate:[m.z],data:{roles:["ADMIN"]}},{path:"inicio",component:gn,canActivate:[m.z],data:{roles:["USER","SUBASTADOR_PENDIENTE"]}},{path:"terminos-subastador",component:y,canActivate:[m.z],data:{roles:["ADMIN","SUBASTADOR"]}},{path:"no-autorizado",component:Qt},{path:"mantenimiento",component:Kt.G},{path:"",redirectTo:"xd",pathMatch:"full"}]}];let Bn=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[g.iI.forChild(Gn),g.iI]})}}return e})(),Ln=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[d.MD,Bn,l.YN,l.X1,p.q1]})}}return e})()}}]);