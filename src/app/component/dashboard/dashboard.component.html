<div class="dashboard">
  <div class="dashboard-header">
    <div class="header-content">
      <h1 class="page-title">Panel de Control</h1>
      <p class="subtitle" *ngIf="eventoActivo">
        {{ eventoActivo.estado === 'ABIERTO' ? 'Evento disponible' : 'Evento cerrado' }}
      </p>
    </div>

    <div class="header-actions">
      <button class="btn-primary" (click)="go('/components/ver-subastas')">Mis subastas</button>
      <button class="btn-evento" *ngIf="isAdmin()" (click)="goOrganizarEvento()">Administrar eventos</button>
    </div>
  </div>

  <div class="grid">
    <div class="block wide info" *ngIf="eventoActivo">
      <span>Evento</span>
      <strong>{{ eventoActivo.nombre }}</strong>
      <small>{{ eventoActivo.fechaEvento | date:'dd/MM/yyyy' }} - {{ eventoActivo.horaInicio }}</small>
    </div>

    <div class="block wide timer" *ngIf="eventoActivo">
      <span>{{ tituloTiempo }}</span>
      <strong>{{ tiempoRestante }}</strong>
      <small>Duraci√≥n por subasta: {{ eventoActivo.duracionSubastaMinutos }} minutos</small>
    </div>

    <div class="block">
      <span>Total enviadas</span>
      <strong>{{ subastas.length }}</strong>
      <small>Esta semana</small>
    </div>

    <div class="block success">
      <span>Aceptadas</span>
      <strong>{{ subastasAceptadas }}</strong>
    </div>

    <div class="block warning">
      <span>Pendientes</span>
      <strong>{{ subastasPendientes }}</strong>
    </div>

    <div class="block danger">
      <span>Rechazadas</span>
      <strong>{{ subastasRechazadas }}</strong>
    </div>

    <div class="block wide action" *ngIf="subastasPendientes === 0 && subastas.length > 0">
      <strong>Subastas revisadas</strong>
      <p>Todas tus subastas ya fueron evaluadas.</p>
      <button class="btn-secondary" (click)="go('/components/ver-subastas')">Ver mis subastas</button>
    </div>
  </div>
</div>