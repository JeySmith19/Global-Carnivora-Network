<div class="solicitud-container">
  <div class="card">

    <div *ngIf="esSubastador" class="success-box">
      <div class="icon">ğŸ‰</div>
      <h2>Â¡Felicidades!</h2>
      <p>
        Fuiste aceptado como uno de los subastadores de la comunidad.
      </p>
      <p class="hint">
        Para desbloquear tus herramientas, vuelve a iniciar sesiÃ³n.
      </p>

      <button
        class="btn-logout"
        (click)="logout()"
        [disabled]="closing">
        {{ closing ? 'Cerrando sesiÃ³nâ€¦' : 'Cerrar sesiÃ³n' }}
      </button>
    </div>

    <ng-container *ngIf="!esSubastador">
      <h2>Solicitud para ser subastador</h2>

      <p class="subtitle">
        Antes de continuar, lee atentamente los siguientes requisitos.
      </p>

      <ul class="rules">
        <li>Todos tus datos deben ser reales y verificables.</li>
        <li>La solicitud serÃ¡ revisada manualmente por los administradores.</li>
        <li>PodrÃ­an contactarte para una entrevista o validaciÃ³n adicional.</li>
        <li>Al enviar la solicitud aceptas los tÃ©rminos y normas de la comunidad.</li>
      </ul>

      <div *ngIf="tieneSolicitudPendiente" class="message info">
        Estamos revisando tu solicitud, gracias por tu paciencia.
      </div><br>

      <label class="check" *ngIf="!tieneSolicitudPendiente">
        <input type="checkbox" [(ngModel)]="accepted">
        <span>Acepto los tÃ©rminos y condiciones de la comunidad</span>
      </label>

      <button
        (click)="solicitar()"
        [disabled]="loading || !accepted || tieneSolicitudPendiente">
        {{ loading ? 'Enviando solicitud...' : 'Enviar solicitud' }}
      </button>

      <p class="message" *ngIf="message && !tieneSolicitudPendiente">
        {{ message }}
      </p>
    </ng-container>

  </div>
</div>
